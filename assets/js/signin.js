const a0_0x527898=a0_0x5e37;(function(_0x4d2772,_0x1fe70b){const _0x7096b5=a0_0x5e37,_0x458a04=_0x4d2772();while(!![]){try{const _0xb91ffb=-parseInt(_0x7096b5(0x1fb))/0x1*(-parseInt(_0x7096b5(0x23a))/0x2)+parseInt(_0x7096b5(0x22a))/0x3*(-parseInt(_0x7096b5(0x20c))/0x4)+parseInt(_0x7096b5(0x236))/0x5+parseInt(_0x7096b5(0x20a))/0x6+-parseInt(_0x7096b5(0x200))/0x7*(-parseInt(_0x7096b5(0x205))/0x8)+-parseInt(_0x7096b5(0x224))/0x9+-parseInt(_0x7096b5(0x209))/0xa;if(_0xb91ffb===_0x1fe70b)break;else _0x458a04['push'](_0x458a04['shift']());}catch(_0x24f81d){_0x458a04['push'](_0x458a04['shift']());}}}(a0_0x1c8c,0xc0691));var url=new URL(window['location']['href']),searchParams=new URLSearchParams(url[a0_0x527898(0x228)]),redirectURL=searchParams[a0_0x527898(0x223)]('redirect');let db=firebase['firestore']();function showLogin(){const _0x45d014=a0_0x527898;document['getElementById'](_0x45d014(0x22e))['value']='',document[_0x45d014(0x1fa)]('signup-email')[_0x45d014(0x1f2)]='',document[_0x45d014(0x1fa)](_0x45d014(0x20d))[_0x45d014(0x1f2)]='',document[_0x45d014(0x1ea)]('.card-3d-wrapper')[_0x45d014(0x23b)][_0x45d014(0x1eb)]('show-register');}function showSignup(){const _0x492486=a0_0x527898;document['getElementById'](_0x492486(0x210))['value']='',document['getElementById'](_0x492486(0x214))[_0x492486(0x1f2)]='',document[_0x492486(0x1ea)](_0x492486(0x202))[_0x492486(0x23b)][_0x492486(0x21f)](_0x492486(0x1ed));}function validateEmail(_0x4a2d28){const _0x1e9e7b=a0_0x527898,_0x237d78=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return _0x237d78[_0x1e9e7b(0x231)](_0x4a2d28);}function forgotPassword(){const _0x238d89=a0_0x527898,_0x5b21b6=document[_0x238d89(0x1fa)]('login-email')[_0x238d89(0x1f2)]['trim']();_0x5b21b6===''?alert('Please\x20enter\x20your\x20email\x20address\x20first.'):validateEmail(_0x5b21b6)?firebase[_0x238d89(0x1ff)]()['sendPasswordResetEmail'](_0x5b21b6)[_0x238d89(0x1ec)](()=>{const _0x2039fd=_0x238d89;alert(_0x2039fd(0x222));})[_0x238d89(0x238)](_0x4f5bdd=>{const _0x153914=_0x238d89;alert('Failed\x20to\x20send\x20reset\x20email.\x20Please\x20try\x20again.'),console[_0x153914(0x230)](_0x4f5bdd),document[_0x153914(0x1fa)]('login-btn')['innerText']=_0x153914(0x1f5);}):(alert(_0x238d89(0x1f4)),console[_0x238d89(0x230)]('Email\x20address\x20not\x20valid.'),document['getElementById']('login-btn')[_0x238d89(0x234)]='Submit');}function login(){const _0xa28a92=a0_0x527898;document[_0xa28a92(0x1fa)](_0xa28a92(0x22f))['innerText']=_0xa28a92(0x21c);const _0x3d85e5=document['getElementById']('login-email')[_0xa28a92(0x1f2)],_0x155ebc=document[_0xa28a92(0x1fa)]('login-password')[_0xa28a92(0x1f2)];firebase['auth']()[_0xa28a92(0x220)](_0x3d85e5,_0x155ebc)[_0xa28a92(0x1ec)](_0x3fbc5f=>{const _0xb8c399=_0xa28a92;console[_0xb8c399(0x1f6)]('Login\x20successful:',_0x3fbc5f[_0xb8c399(0x225)]),redirectURL!=null?window[_0xb8c399(0x233)]=redirectURL:window['location']=_0xb8c399(0x221);})[_0xa28a92(0x238)](_0x577bd5=>{const _0x2869e8=_0xa28a92;console[_0x2869e8(0x1f6)](_0x577bd5[_0x2869e8(0x240)]);if(_0x577bd5[_0x2869e8(0x240)]===_0x2869e8(0x1f8))alert(_0x2869e8(0x1f3)),console['error'](_0x2869e8(0x215)),document[_0x2869e8(0x1fa)](_0x2869e8(0x22f))[_0x2869e8(0x234)]=_0x2869e8(0x1f0);else _0x577bd5[_0x2869e8(0x240)]===_0x2869e8(0x23f)||_0x577bd5[_0x2869e8(0x21e)][_0x2869e8(0x23c)]('INVALID_LOGIN_CREDENTIALS')?(alert(_0x2869e8(0x1ef)),document['getElementById'](_0x2869e8(0x22f))[_0x2869e8(0x234)]=_0x2869e8(0x1f0)):(alert(_0x577bd5),console[_0x2869e8(0x230)](_0x577bd5),document[_0x2869e8(0x1fa)](_0x2869e8(0x22f))[_0x2869e8(0x234)]=_0x2869e8(0x1f0));});}function a0_0x1c8c(){const _0x595836=['doc','.card-3d-wrapper','/setup_profile.html','key','6042992RnBLDP','firestore','collection','random','31454560lezcnB','7202634ipqzGG','toString','12txQPgk','signup-password','Error\x20creating\x20mission\x20index\x20','profile\x20update\x20error','login-email','auth/invalid-email','Sign\x20up','Missions','login-password','No\x20user\x20found\x20with\x20this\x20email.','Users','Email\x20address\x20not\x20valid.','sendEmailVerification','now','/assets/json/missions.json','set','Loading...','An\x20account\x20already\x20exists\x20with\x20this\x20email\x20address.\x20Please\x20login\x20or\x20use\x20a\x20different\x20email\x20address.','message','add','signInWithEmailAndPassword','/index.html','Password\x20reset\x20email\x20sent.','get','595791WuXXXk','user','yellow','auth/email-already-in-use','search','Enter','308736RaJfXu','uid','shiftKey','preventDefault','signup-name','login-btn','error','test','floor','location','innerText','MD5','6919170KqgyJr','An\x20verification\x20link\x20has\x20been\x20sent\x20to\x20your\x20email.\x20Please\x20check\x20your\x20inbox\x20to\x20verify\x20your\x20account.','catch','signup-btn','2Yvafxy','classList','includes','FieldValue','addEventListener','auth/wrong-password','code','querySelector','remove','then','show-register','Tasks','Incorrect\x20credencials.\x20Please\x20try\x20again.','Login','createUserWithEmailAndPassword','value','No\x20user\x20found\x20associated\x20with\x20this\x20email.\x20Please\x20check\x20your\x20email\x20address\x20or\x20create\x20a\x20new\x20account.','Please\x20enter\x20a\x20valid\x20email\x20address.','Submit','log','signup-email','auth/user-not-found','Signup\x20successful:','getElementById','968857FUETkd','DOMContentLoaded','serverTimestamp','Failed\x20to\x20fetch\x20missions:\x20','auth','7LEnJte'];a0_0x1c8c=function(){return _0x595836;};return a0_0x1c8c();}function a0_0x5e37(_0xbacde8,_0x13a960){const _0x1c8c50=a0_0x1c8c();return a0_0x5e37=function(_0x5e3755,_0x378447){_0x5e3755=_0x5e3755-0x1ea;let _0x27d447=_0x1c8c50[_0x5e3755];return _0x27d447;},a0_0x5e37(_0xbacde8,_0x13a960);}function signup(){const _0x4f1904=a0_0x527898;document['getElementById'](_0x4f1904(0x239))['innerText']=_0x4f1904(0x21c);const _0x20d23a=document['getElementById'](_0x4f1904(0x22e))[_0x4f1904(0x1f2)],_0x35d766=document['getElementById'](_0x4f1904(0x1f7))[_0x4f1904(0x1f2)],_0x446e71=document[_0x4f1904(0x1fa)]('signup-password')['value'];firebase[_0x4f1904(0x1ff)]()[_0x4f1904(0x1f1)](_0x35d766,_0x446e71)['then'](_0x56bea7=>{const _0x3c5bf9=_0x4f1904,_0x161567=_0x56bea7[_0x3c5bf9(0x225)];console[_0x3c5bf9(0x1f6)](_0x3c5bf9(0x1f9),_0x161567),_0x161567['updateProfile']({'displayName':_0x20d23a})[_0x3c5bf9(0x1ec)](()=>{const _0x3a6547=_0x3c5bf9;console['log']('profile\x20updated',_0x161567);const _0x17c067=CryptoJS[_0x3a6547(0x235)](_0x446e71)['toString'](),_0x4e6c28=firebase[_0x3a6547(0x206)]()[_0x3a6547(0x207)](_0x3a6547(0x216))[_0x3a6547(0x201)](_0x161567['uid']);_0x4e6c28[_0x3a6547(0x21b)]({'name':_0x20d23a,'email':_0x35d766,'hashed_password':_0x17c067,'senderId':_0x161567['uid'],'profileIMG':'','userHistory':{},'level':0x0,'points':0x0,'lastActive':firebase[_0x3a6547(0x206)][_0x3a6547(0x23d)]['serverTimestamp'](),'isAdmin':![],'bg':'bg3.jpg','accountCreatedOn':firebase[_0x3a6547(0x206)]['FieldValue'][_0x3a6547(0x1fd)](),'novacoins':0x0,'completedAccountFeedbackForm':![]})[_0x3a6547(0x1ec)](()=>{const _0x307767=_0x3a6547;_0x161567[_0x307767(0x218)]()['then'](()=>{const _0x1f8070=_0x307767;alert(_0x1f8070(0x237)),console[_0x1f8070(0x1f6)]('Verification\x20email\x20sent\x20to\x20'+_0x35d766),db['collection'](_0x1f8070(0x216))[_0x1f8070(0x201)](_0x161567[_0x1f8070(0x22b)])[_0x1f8070(0x207)]('Tasks')[_0x1f8070(0x21f)]({'task':'Create\x20a\x20new\x20task\x20by\x20typing\x20it\x20above.','completed':![],'createdAt':firebase['firestore'][_0x1f8070(0x23d)][_0x1f8070(0x1fd)]()})[_0x1f8070(0x1ec)](()=>{})[_0x1f8070(0x238)](_0x2450da=>{const _0x4eb79c=_0x1f8070;console[_0x4eb79c(0x230)](_0x2450da);}),db[_0x1f8070(0x207)](_0x1f8070(0x216))[_0x1f8070(0x201)](_0x161567[_0x1f8070(0x22b)])['collection'](_0x1f8070(0x1ee))[_0x1f8070(0x21f)]({'task':'Checkout\x20your\x20new\x20missions\x20at\x20the\x20missions\x20page!','completed':![],'createdAt':firebase[_0x1f8070(0x206)]['FieldValue'][_0x1f8070(0x1fd)]()})[_0x1f8070(0x1ec)](()=>{})[_0x1f8070(0x238)](_0x8efdf4=>{console['error'](_0x8efdf4);});let _0x424b30=['blue','green',_0x1f8070(0x226)];fetch(_0x1f8070(0x21a))[_0x1f8070(0x1ec)](_0x72e29f=>_0x72e29f['json']())[_0x1f8070(0x1ec)](_0x1df780=>{let _0x4be77f=0x0;_0x1df780['forEach']((_0x161a5c,_0x313bd0)=>{const _0xf9435d=a0_0x5e37;let _0x3fe6b5=generateUniqueId(),_0x147824=db[_0xf9435d(0x207)](_0xf9435d(0x216))[_0xf9435d(0x201)](_0x161567[_0xf9435d(0x22b)])[_0xf9435d(0x207)](_0xf9435d(0x213))['doc'](_0x3fe6b5);_0x147824[_0xf9435d(0x21b)]({..._0x161a5c,'missionID':_0x3fe6b5,'createdAt':firebase[_0xf9435d(0x206)][_0xf9435d(0x23d)][_0xf9435d(0x1fd)](),'cardColour':_0x424b30[Math[_0xf9435d(0x232)](Math[_0xf9435d(0x208)]()*_0x424b30['length'])],'members':[_0x161567[_0xf9435d(0x22b)]]})[_0xf9435d(0x1ec)](()=>{const _0x6cf0cc=_0xf9435d;_0x4be77f++,_0x4be77f==_0x1df780['length']&&(window['location']=_0x6cf0cc(0x203));})[_0xf9435d(0x238)](_0xfcf9ad=>{const _0x2cd6fb=_0xf9435d;console[_0x2cd6fb(0x230)](_0x2cd6fb(0x20e)+(_0x313bd0+0x1)+':\x20',_0xfcf9ad);});});})[_0x1f8070(0x238)](_0x153766=>{const _0x36b900=_0x1f8070;console[_0x36b900(0x230)](_0x36b900(0x1fe),_0x153766);});});})[_0x3a6547(0x238)](_0x549d4a=>{const _0x2df52d=_0x3a6547;console[_0x2df52d(0x1f6)]('Failed\x20to\x20save\x20user\x20in\x20firestore:\x20',_0x549d4a);});})[_0x3c5bf9(0x238)](_0x2d16ab=>{const _0x125993=_0x3c5bf9;console['log'](_0x125993(0x20f),_0x2d16ab);});})['catch'](_0x4199aa=>{const _0x202fb0=_0x4f1904;if(_0x4199aa[_0x202fb0(0x240)]===_0x202fb0(0x227))alert(_0x202fb0(0x21d)),console['error']('Account\x20already\x20exists\x20with\x20this\x20email\x20address.'),document[_0x202fb0(0x1fa)]('login-btn')[_0x202fb0(0x234)]=_0x202fb0(0x212);else _0x4199aa[_0x202fb0(0x240)]===_0x202fb0(0x211)?(alert(_0x202fb0(0x1f4)),console['error'](_0x202fb0(0x217)),document[_0x202fb0(0x1fa)](_0x202fb0(0x22f))[_0x202fb0(0x234)]=_0x202fb0(0x212)):(alert(_0x4199aa),console[_0x202fb0(0x230)](_0x4199aa),document[_0x202fb0(0x1fa)](_0x202fb0(0x22f))[_0x202fb0(0x234)]='Sign\x20up');});}document[a0_0x527898(0x23e)](a0_0x527898(0x1fc),function(){const _0x258b77=a0_0x527898;document['getElementById'](_0x258b77(0x214))[_0x258b77(0x23e)]('keydown',_0x378ddb=>{const _0x1833db=_0x258b77;_0x378ddb[_0x1833db(0x204)]===_0x1833db(0x229)&&!_0x378ddb['shiftKey']&&(_0x378ddb[_0x1833db(0x22d)](),login());}),document[_0x258b77(0x1fa)]('signup-password')[_0x258b77(0x23e)]('keydown',_0x4c6294=>{const _0x306849=_0x258b77;_0x4c6294[_0x306849(0x204)]===_0x306849(0x229)&&!_0x4c6294[_0x306849(0x22c)]&&(_0x4c6294[_0x306849(0x22d)](),signup());});});function generateUniqueId(){const _0x1d588d=a0_0x527898;let _0x114e1f=Date[_0x1d588d(0x219)]()[_0x1d588d(0x20b)](0x24);for(let _0x5dab23=0x0;_0x5dab23<0x5;_0x5dab23++){_0x114e1f+=Math[_0x1d588d(0x208)]()['toString'](0x24)['substr'](0x2,0x9);}return _0x114e1f;}