const a0_0x4cf349=a0_0xef90;(function(_0x499327,_0x2d4ba5){const _0x19c7f4=a0_0xef90,_0x3abb30=_0x499327();while(!![]){try{const _0x8de890=parseInt(_0x19c7f4(0x114))/0x1+parseInt(_0x19c7f4(0x12b))/0x2+parseInt(_0x19c7f4(0x131))/0x3*(parseInt(_0x19c7f4(0x124))/0x4)+-parseInt(_0x19c7f4(0x13c))/0x5+-parseInt(_0x19c7f4(0x123))/0x6*(-parseInt(_0x19c7f4(0x15f))/0x7)+parseInt(_0x19c7f4(0x13e))/0x8+-parseInt(_0x19c7f4(0x111))/0x9*(parseInt(_0x19c7f4(0x110))/0xa);if(_0x8de890===_0x2d4ba5)break;else _0x3abb30['push'](_0x3abb30['shift']());}catch(_0x3a0f19){_0x3abb30['push'](_0x3abb30['shift']());}}}(a0_0x10b1,0xad4fd));var url=new URL(window['location']['href']),searchParams=new URLSearchParams(url[a0_0x4cf349(0x141)]),redirectURL=searchParams[a0_0x4cf349(0x137)](a0_0x4cf349(0x151));let db=firebase['firestore']();function showLogin(){const _0x4df15b=a0_0x4cf349;document[_0x4df15b(0x11c)](_0x4df15b(0x109))[_0x4df15b(0x14d)]='',document['getElementById'](_0x4df15b(0x13a))[_0x4df15b(0x14d)]='',document[_0x4df15b(0x11c)](_0x4df15b(0x139))[_0x4df15b(0x14d)]='',document['querySelector'](_0x4df15b(0x10d))[_0x4df15b(0x12e)]['remove']('show-register');}function showSignup(){const _0x3e41c6=a0_0x4cf349;document['getElementById'](_0x3e41c6(0x130))[_0x3e41c6(0x14d)]='',document[_0x3e41c6(0x11c)](_0x3e41c6(0x120))[_0x3e41c6(0x14d)]='',document[_0x3e41c6(0x142)](_0x3e41c6(0x10d))[_0x3e41c6(0x12e)][_0x3e41c6(0x125)](_0x3e41c6(0x14f));}function a0_0xef90(_0x1084b0,_0x5a565d){const _0x10b1f7=a0_0x10b1();return a0_0xef90=function(_0xef90d6,_0x5cf9f4){_0xef90d6=_0xef90d6-0x105;let _0x3757eb=_0x10b1f7[_0xef90d6];return _0x3757eb;},a0_0xef90(_0x1084b0,_0x5a565d);}function validateEmail(_0x2571af){const _0x5abd87=a0_0x4cf349,_0x1b4459=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return _0x1b4459[_0x5abd87(0x10c)](_0x2571af);}function forgotPassword(){const _0xb8a5af=a0_0x4cf349,_0x43f191=document['getElementById'](_0xb8a5af(0x130))[_0xb8a5af(0x14d)][_0xb8a5af(0x12d)]();_0x43f191===''?alert(_0xb8a5af(0x10e)):validateEmail(_0x43f191)?firebase[_0xb8a5af(0x122)]()[_0xb8a5af(0x140)](_0x43f191)[_0xb8a5af(0x15c)](()=>{const _0x487ffc=_0xb8a5af;alert(_0x487ffc(0x126));})[_0xb8a5af(0x147)](_0x56322e=>{const _0x4436c4=_0xb8a5af;alert(_0x4436c4(0x15d)),console[_0x4436c4(0x145)](_0x56322e),document[_0x4436c4(0x11c)](_0x4436c4(0x13b))[_0x4436c4(0x10a)]=_0x4436c4(0x116);}):(alert(_0xb8a5af(0x107)),console['error'](_0xb8a5af(0x12f)),document[_0xb8a5af(0x11c)](_0xb8a5af(0x13b))['innerText']=_0xb8a5af(0x116));}function a0_0x10b1(){const _0xf5c56f=['length','sendPasswordResetEmail','search','querySelector','collection','INVALID_LOGIN_CREDENTIALS','error','Signup\x20successful:','catch','Login','auth/invalid-email','Checkout\x20your\x20new\x20missions\x20at\x20the\x20missions\x20page!','location','Create\x20a\x20new\x20task\x20by\x20typing\x20it\x20above.','value','json','show-register','An\x20verification\x20link\x20has\x20been\x20sent\x20to\x20your\x20email.\x20Please\x20check\x20your\x20inbox\x20to\x20verify\x20your\x20account.','redirect','uid','key','preventDefault','message','/setup_profile.html','Failed\x20to\x20fetch\x20missions:\x20','auth/wrong-password','signInWithEmailAndPassword','FieldValue','Incorrect\x20credencials.\x20Please\x20try\x20again.','then','Failed\x20to\x20send\x20reset\x20email.\x20Please\x20try\x20again.','Loading...','133pJJOLd','random','Users','Please\x20enter\x20a\x20valid\x20email\x20address.','addEventListener','signup-name','innerText','substr','test','.card-3d-wrapper','Please\x20enter\x20your\x20email\x20address\x20first.','set','37840iYlLmX','1107pFdmbC','serverTimestamp','toString','247607PpUJDy','An\x20account\x20already\x20exists\x20with\x20this\x20email\x20address.\x20Please\x20login\x20or\x20use\x20a\x20different\x20email\x20address.','Submit','createUserWithEmailAndPassword','log','user','updateProfile','Failed\x20to\x20save\x20user\x20in\x20firestore:\x20','getElementById','/assets/json/missions.json','Account\x20already\x20exists\x20with\x20this\x20email\x20address.','Tasks','login-password','auth/email-already-in-use','auth','3522bAUAnI','723208swTvLS','add','Password\x20reset\x20email\x20sent.','forEach','firestore','Login\x20successful:','doc','1530240TSUIvB','Sign\x20up','trim','classList','Email\x20address\x20not\x20valid.','login-email','9ItZHYu','signup-btn','keydown','floor','code','No\x20user\x20found\x20with\x20this\x20email.','get','Enter','signup-password','signup-email','login-btn','6030190MPoZGy','profile\x20update\x20error','6520552HEHsvZ'];a0_0x10b1=function(){return _0xf5c56f;};return a0_0x10b1();}function login(){const _0x29ae35=a0_0x4cf349;document['getElementById'](_0x29ae35(0x13b))[_0x29ae35(0x10a)]=_0x29ae35(0x15e);const _0x5e4f41=document[_0x29ae35(0x11c)](_0x29ae35(0x130))[_0x29ae35(0x14d)],_0x12135f=document[_0x29ae35(0x11c)](_0x29ae35(0x120))['value'];firebase[_0x29ae35(0x122)]()[_0x29ae35(0x159)](_0x5e4f41,_0x12135f)[_0x29ae35(0x15c)](_0x997a89=>{const _0x12b1d1=_0x29ae35;console[_0x12b1d1(0x118)](_0x12b1d1(0x129),_0x997a89[_0x12b1d1(0x119)]),redirectURL!=null?window[_0x12b1d1(0x14b)]=redirectURL:window['location']='/index.html';})[_0x29ae35(0x147)](_0x4e6fd1=>{const _0x28a146=_0x29ae35;console['log'](_0x4e6fd1[_0x28a146(0x135)]);if(_0x4e6fd1[_0x28a146(0x135)]==='auth/user-not-found')alert('No\x20user\x20found\x20associated\x20with\x20this\x20email.\x20Please\x20check\x20your\x20email\x20address\x20or\x20create\x20a\x20new\x20account.'),console[_0x28a146(0x145)](_0x28a146(0x136)),document['getElementById'](_0x28a146(0x13b))[_0x28a146(0x10a)]='Login';else _0x4e6fd1[_0x28a146(0x135)]===_0x28a146(0x158)||_0x4e6fd1[_0x28a146(0x155)]['includes'](_0x28a146(0x144))?(alert(_0x28a146(0x15b)),document[_0x28a146(0x11c)](_0x28a146(0x13b))[_0x28a146(0x10a)]=_0x28a146(0x148)):(alert(_0x4e6fd1),console[_0x28a146(0x145)](_0x4e6fd1),document[_0x28a146(0x11c)]('login-btn')[_0x28a146(0x10a)]=_0x28a146(0x148));});}function signup(){const _0x57c473=a0_0x4cf349;document['getElementById'](_0x57c473(0x132))[_0x57c473(0x10a)]=_0x57c473(0x15e);const _0x38d8ed=document['getElementById'](_0x57c473(0x109))[_0x57c473(0x14d)],_0x3dab7e=document[_0x57c473(0x11c)](_0x57c473(0x13a))[_0x57c473(0x14d)],_0xf62ba3=document[_0x57c473(0x11c)](_0x57c473(0x139))[_0x57c473(0x14d)];firebase[_0x57c473(0x122)]()[_0x57c473(0x117)](_0x3dab7e,_0xf62ba3)['then'](_0x52b6b5=>{const _0x5ec435=_0x57c473,_0x3ae8b1=_0x52b6b5[_0x5ec435(0x119)];console[_0x5ec435(0x118)](_0x5ec435(0x146),_0x3ae8b1),_0x3ae8b1[_0x5ec435(0x11a)]({'displayName':_0x38d8ed})[_0x5ec435(0x15c)](()=>{const _0x44288a=_0x5ec435;console[_0x44288a(0x118)]('profile\x20updated',_0x3ae8b1);const _0x2d89d9=CryptoJS['MD5'](_0xf62ba3)[_0x44288a(0x113)](),_0x21000a=firebase[_0x44288a(0x128)]()['collection'](_0x44288a(0x106))[_0x44288a(0x12a)](_0x3ae8b1[_0x44288a(0x152)]);_0x21000a['set']({'name':_0x38d8ed,'email':_0x3dab7e,'hashed_password':_0x2d89d9,'senderId':_0x3ae8b1[_0x44288a(0x152)],'profileIMG':'','userHistory':{},'level':0x0,'points':0x0,'lastActive':firebase['firestore'][_0x44288a(0x15a)][_0x44288a(0x112)](),'isAdmin':![],'bg':'bg3.jpg','accountCreatedOn':firebase[_0x44288a(0x128)]['FieldValue'][_0x44288a(0x112)](),'novacoins':0x0,'completedAccountFeedbackForm':![]})[_0x44288a(0x15c)](()=>{_0x3ae8b1['sendEmailVerification']()['then'](()=>{const _0x492222=a0_0xef90;alert(_0x492222(0x150)),console['log']('Verification\x20email\x20sent\x20to\x20'+_0x3dab7e),db[_0x492222(0x143)](_0x492222(0x106))[_0x492222(0x12a)](_0x3ae8b1['uid'])[_0x492222(0x143)](_0x492222(0x11f))[_0x492222(0x125)]({'task':_0x492222(0x14c),'completed':![],'createdAt':firebase[_0x492222(0x128)][_0x492222(0x15a)][_0x492222(0x112)]()})[_0x492222(0x15c)](()=>{})[_0x492222(0x147)](_0x50375d=>{const _0x24906e=_0x492222;console[_0x24906e(0x145)](_0x50375d);}),db[_0x492222(0x143)](_0x492222(0x106))[_0x492222(0x12a)](_0x3ae8b1[_0x492222(0x152)])[_0x492222(0x143)](_0x492222(0x11f))[_0x492222(0x125)]({'task':_0x492222(0x14a),'completed':![],'createdAt':firebase[_0x492222(0x128)]['FieldValue']['serverTimestamp']()})[_0x492222(0x15c)](()=>{})[_0x492222(0x147)](_0x4e178a=>{const _0x584c38=_0x492222;console[_0x584c38(0x145)](_0x4e178a);});let _0x35a63d=['blue','green','yellow'];fetch(_0x492222(0x11d))[_0x492222(0x15c)](_0x57dce2=>_0x57dce2[_0x492222(0x14e)]())['then'](_0x2e6c7b=>{const _0x26d7d4=_0x492222;let _0x3a33e7=0x0;_0x2e6c7b[_0x26d7d4(0x127)]((_0x529345,_0x1605bc)=>{const _0x4317ef=_0x26d7d4;let _0x3b3945=generateUniqueId(),_0x34c181=db[_0x4317ef(0x143)](_0x4317ef(0x106))[_0x4317ef(0x12a)](_0x3ae8b1[_0x4317ef(0x152)])[_0x4317ef(0x143)]('Missions')[_0x4317ef(0x12a)](_0x3b3945);_0x34c181[_0x4317ef(0x10f)]({..._0x529345,'missionID':_0x3b3945,'createdAt':firebase[_0x4317ef(0x128)][_0x4317ef(0x15a)][_0x4317ef(0x112)](),'cardColour':_0x35a63d[Math[_0x4317ef(0x134)](Math[_0x4317ef(0x105)]()*_0x35a63d[_0x4317ef(0x13f)])],'members':[_0x3ae8b1[_0x4317ef(0x152)]]})[_0x4317ef(0x15c)](()=>{const _0x185d2c=_0x4317ef;_0x3a33e7++,_0x3a33e7==_0x2e6c7b[_0x185d2c(0x13f)]&&(window['location']=_0x185d2c(0x156));})['catch'](_0x16aab6=>{const _0x45a29f=_0x4317ef;console[_0x45a29f(0x145)]('Error\x20creating\x20mission\x20index\x20'+(_0x1605bc+0x1)+':\x20',_0x16aab6);});});})[_0x492222(0x147)](_0x378b64=>{const _0x120784=_0x492222;console[_0x120784(0x145)](_0x120784(0x157),_0x378b64);});});})[_0x44288a(0x147)](_0x42a887=>{const _0x5a8bb3=_0x44288a;console[_0x5a8bb3(0x118)](_0x5a8bb3(0x11b),_0x42a887);});})[_0x5ec435(0x147)](_0x7a4357=>{const _0xb3b67d=_0x5ec435;console['log'](_0xb3b67d(0x13d),_0x7a4357);});})['catch'](_0x5d766e=>{const _0xb94cb7=_0x57c473;if(_0x5d766e['code']===_0xb94cb7(0x121))alert(_0xb94cb7(0x115)),console[_0xb94cb7(0x145)](_0xb94cb7(0x11e)),document['getElementById'](_0xb94cb7(0x13b))['innerText']=_0xb94cb7(0x12c);else _0x5d766e[_0xb94cb7(0x135)]===_0xb94cb7(0x149)?(alert(_0xb94cb7(0x107)),console[_0xb94cb7(0x145)]('Email\x20address\x20not\x20valid.'),document[_0xb94cb7(0x11c)]('login-btn')[_0xb94cb7(0x10a)]='Sign\x20up'):(alert(_0x5d766e),console[_0xb94cb7(0x145)](_0x5d766e),document[_0xb94cb7(0x11c)](_0xb94cb7(0x13b))[_0xb94cb7(0x10a)]=_0xb94cb7(0x12c));});}document[a0_0x4cf349(0x108)]('DOMContentLoaded',function(){const _0x16d16a=a0_0x4cf349;document[_0x16d16a(0x11c)](_0x16d16a(0x120))['addEventListener']('keydown',_0x12d778=>{const _0x51713f=_0x16d16a;_0x12d778[_0x51713f(0x153)]===_0x51713f(0x138)&&!_0x12d778['shiftKey']&&(_0x12d778[_0x51713f(0x154)](),login());}),document['getElementById'](_0x16d16a(0x139))[_0x16d16a(0x108)](_0x16d16a(0x133),_0x53b332=>{const _0x18268d=_0x16d16a;_0x53b332[_0x18268d(0x153)]===_0x18268d(0x138)&&!_0x53b332['shiftKey']&&(_0x53b332[_0x18268d(0x154)](),signup());});});function generateUniqueId(){const _0x26bd77=a0_0x4cf349;let _0x2881d6=Date['now']()[_0x26bd77(0x113)](0x24);for(let _0x5e4fb0=0x0;_0x5e4fb0<0x5;_0x5e4fb0++){_0x2881d6+=Math[_0x26bd77(0x105)]()[_0x26bd77(0x113)](0x24)[_0x26bd77(0x10b)](0x2,0x9);}return _0x2881d6;}