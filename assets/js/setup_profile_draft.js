const a0_0xf286be=a0_0x5301;(function(_0x373e48,_0x21d6cd){const _0x1ead93=a0_0x5301,_0x270ebf=_0x373e48();while(!![]){try{const _0x4bf201=-parseInt(_0x1ead93(0x127))/0x1*(parseInt(_0x1ead93(0x151))/0x2)+-parseInt(_0x1ead93(0x112))/0x3*(parseInt(_0x1ead93(0x129))/0x4)+-parseInt(_0x1ead93(0x12d))/0x5*(-parseInt(_0x1ead93(0x111))/0x6)+parseInt(_0x1ead93(0x110))/0x7*(-parseInt(_0x1ead93(0x158))/0x8)+parseInt(_0x1ead93(0x133))/0x9+-parseInt(_0x1ead93(0x11a))/0xa+parseInt(_0x1ead93(0x119))/0xb;if(_0x4bf201===_0x21d6cd)break;else _0x270ebf['push'](_0x270ebf['shift']());}catch(_0x50f3ab){_0x270ebf['push'](_0x270ebf['shift']());}}}(a0_0xd091,0x72180));function a0_0xd091(){const _0x5e3e49=['edit-profile-email','readAsDataURL','email','Users','20709986wNwcNW','6838080OrZrAq','onerror','Please\x20upload\x20a\x20square\x20image.','users_profilePic/','preventDefault','profile-picture-picker','style','uploading...','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','use-default-image','addEventListener','then','profileIMG','637339zaHPWi','currentUser','32jAQqqX','error','bio','name','5rosZOD','DOMContentLoaded','change','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','firestore','block','1597572LEmRNq','/assets/img/default_user.jpeg','Error\x20setting\x20default\x20picture:','target','edit-profile-userid','getElementById','crop','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','bind','click','auth','href','disappear-btn-for-crop','right','none','width','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','value','crop-set','submitButton','senderId','collection','uid','blob','saving...','display','storage','result','catch','querySelector','2bMZjOK','Updated\x20profile\x20with\x20default\x20image','destroy','loading...','exists','innerText','profile-picture-picker-image','1595960ZapIzu','cropme','Profile\x20updated\x20with\x20new\x20image','#cropme','Error:','edit-profile-full-name','ref','/signin.html','location','There\x20was\x20an\x20error\x20reading\x20the\x20image.','child','src','update','Error\x20updating\x20profile:','.profile-picture-picker-image','onloadend','log','files','getDownloadURL','.jpeg','put','disappear-for-crop','7FOoFpL','4965888mZTvUt','337467cocvZa','done!','There\x20was\x20an\x20error\x20reading\x20the\x20file.'];a0_0xd091=function(){return _0x5e3e49;};return a0_0xd091();}let useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x29bea3=a0_0x5301;document[_0x29bea3(0x138)](_0x29bea3(0x11f))[_0x29bea3(0x124)](_0x29bea3(0x12f),_0x3aaf68=>{const _0x1ecd9a=_0x29bea3,_0x223379=_0x3aaf68[_0x1ecd9a(0x136)][_0x1ecd9a(0x169)][0x0];if(_0x223379){const _0x1b1458=new FileReader();_0x1b1458['onload']=function(_0xa0d736){const _0x92c3b1=_0x1ecd9a;document[_0x92c3b1(0x150)](_0x92c3b1(0x166))['src']=_0xa0d736[_0x92c3b1(0x136)][_0x92c3b1(0x14e)],document['getElementById'](_0x92c3b1(0x10f))[_0x92c3b1(0x120)]['display']=_0x92c3b1(0x141),document[_0x92c3b1(0x138)]('disappear-btn-for-crop')['style'][_0x92c3b1(0x14c)]=_0x92c3b1(0x141),document[_0x92c3b1(0x138)](_0x92c3b1(0x157))['style'][_0x92c3b1(0x14c)]=_0x92c3b1(0x141),document['getElementById'](_0x92c3b1(0x145))[_0x92c3b1(0x120)]['display']=_0x92c3b1(0x132),document[_0x92c3b1(0x138)](_0x92c3b1(0x159))[_0x92c3b1(0x120)][_0x92c3b1(0x14c)]=_0x92c3b1(0x132);var _0x5939b8=$(_0x92c3b1(0x15b))[_0x92c3b1(0x159)]({'rotation':{'enable':!![],'slider':![],'position':_0x92c3b1(0x140)}});_0x5939b8[_0x92c3b1(0x159)](_0x92c3b1(0x13b),{'url':_0xa0d736[_0x92c3b1(0x136)][_0x92c3b1(0x14e)]});},_0x1b1458[_0x1ecd9a(0x116)](_0x223379);}}),document[_0x29bea3(0x138)](_0x29bea3(0x145))['addEventListener'](_0x29bea3(0x13c),function(){const _0x887696=_0x29bea3;var _0x1bb175=$(_0x887696(0x15b))['cropme']({'rotation':{'enable':!![],'slider':![],'position':_0x887696(0x140)}});_0x1bb175[_0x887696(0x159)](_0x887696(0x139),{'type':_0x887696(0x14a)})[_0x887696(0x125)](function(_0x3a369f){const _0x3b8ccc=_0x887696;fetch(_0x3a369f)['then'](_0x34de4a=>_0x34de4a[_0x3b8ccc(0x14a)]())[_0x3b8ccc(0x125)](_0x5953b7=>{const _0x4777b0=_0x3b8ccc;var _0x21d9ae=new FileReader();_0x21d9ae[_0x4777b0(0x167)]=function(){const _0x2650eb=_0x4777b0;document[_0x2650eb(0x150)]('.profile-picture-picker-image')[_0x2650eb(0x163)]=_0x21d9ae['result'],document[_0x2650eb(0x138)](_0x2650eb(0x10f))[_0x2650eb(0x120)][_0x2650eb(0x14c)]=_0x2650eb(0x132),document[_0x2650eb(0x138)](_0x2650eb(0x13f))[_0x2650eb(0x120)]['display']=_0x2650eb(0x132),document[_0x2650eb(0x138)](_0x2650eb(0x157))['style'][_0x2650eb(0x14c)]='block',document[_0x2650eb(0x138)](_0x2650eb(0x145))[_0x2650eb(0x120)][_0x2650eb(0x14c)]=_0x2650eb(0x141),document[_0x2650eb(0x138)](_0x2650eb(0x159))[_0x2650eb(0x120)][_0x2650eb(0x14c)]=_0x2650eb(0x141),_0x1bb175[_0x2650eb(0x159)](_0x2650eb(0x153));},_0x21d9ae[_0x4777b0(0x116)](_0x5953b7);})[_0x3b8ccc(0x14f)](_0x399cda=>console['error'](_0x3b8ccc(0x15c),_0x399cda));});});}function useDefaultImage(){const _0x3407ab=a0_0x5301,_0x22634e=firebase[_0x3407ab(0x14d)]()['ref'](),_0x5e94f4=firebase[_0x3407ab(0x13d)](),_0x367f39=firebase[_0x3407ab(0x131)](),_0x94e632='/assets/img/default_user.jpeg';fetch(_0x94e632)[_0x3407ab(0x125)](_0x144c81=>_0x144c81[_0x3407ab(0x14a)]())['then'](_0x2414b5=>{const _0x3fc3aa=_0x3407ab,_0x494818=_0x22634e['child']('users_profilePic/'+_0x5e94f4[_0x3fc3aa(0x128)][_0x3fc3aa(0x149)]+_0x3fc3aa(0x10d));return _0x494818[_0x3fc3aa(0x10e)](_0x2414b5);})[_0x3407ab(0x125)](_0x263c16=>_0x263c16['ref']['getDownloadURL']())['then'](_0x1b6e4c=>{const _0x448a03=_0x3407ab;return _0x367f39[_0x448a03(0x148)](_0x448a03(0x118))['doc'](_0x5e94f4['currentUser'][_0x448a03(0x149)])[_0x448a03(0x164)]({'profileIMG':_0x1b6e4c});})['then'](()=>{const _0x338dce=_0x3407ab;console[_0x338dce(0x168)](_0x338dce(0x152)),document[_0x338dce(0x150)](_0x338dce(0x166))[_0x338dce(0x163)]=_0x94e632;})[_0x3407ab(0x14f)](_0x392b7f=>{const _0x5f24c8=_0x3407ab;console[_0x5f24c8(0x12a)](_0x5f24c8(0x135),_0x392b7f),alert(_0x5f24c8(0x13a));});}function submitProfile(){const _0x4e8876=a0_0x5301,_0x3edccb=document[_0x4e8876(0x138)](_0x4e8876(0x11f)),_0x528594=firebase['auth'](),_0x309992=firebase[_0x4e8876(0x131)]();if(useDefaultImageFlag)useDefaultImage(_0x528594,_0x309992);else{const _0x233319=_0x3edccb[_0x4e8876(0x169)][0x0];console[_0x4e8876(0x168)](usedDefaultImage);if(_0x233319){document[_0x4e8876(0x138)](_0x4e8876(0x146))[_0x4e8876(0x156)]=_0x4e8876(0x154);const _0x48b813=new FileReader();_0x48b813['onload']=function(_0x5bee29){const _0x26c481=_0x4e8876,_0x5d1f00=new Image();_0x5d1f00['onload']=function(){const _0x413ec2=a0_0x5301;_0x5d1f00[_0x413ec2(0x142)]===_0x5d1f00['height']?uploadProfilePicture(_0x233319,_0x528594,_0x309992):alert(_0x413ec2(0x11c));},_0x5d1f00[_0x26c481(0x11b)]=function(){const _0x34eb2d=_0x26c481;alert(_0x34eb2d(0x161));},_0x5d1f00['src']=_0x5bee29['target'][_0x26c481(0x14e)];},_0x48b813['onerror']=function(){const _0x142ce1=_0x4e8876;alert(_0x142ce1(0x114));},_0x48b813[_0x4e8876(0x116)](_0x233319);}else{if(usedDefaultImage){const _0x1c0e55=_0x4e8876(0x134);fetch(_0x1c0e55)['then'](_0x2b86b1=>_0x2b86b1[_0x4e8876(0x14a)]())[_0x4e8876(0x125)](_0x1dca51=>{const _0x3c5390=new File([_0x1dca51],'default_user.jpeg',{'type':'image/jpeg'});uploadProfilePicture(_0x3c5390,_0x528594,_0x309992);});}else alert('Please\x20upload\x20a\x20profile\x20picture.');}}}function updateUserProfile(_0x4a6f62,_0x2a24eb,_0x2a29a4){const _0x1174b5=a0_0x5301,_0x3b3325=document[_0x1174b5(0x138)](_0x1174b5(0x15d)),_0x5b306c=document[_0x1174b5(0x138)](_0x1174b5(0x12b));if(_0x2a24eb[_0x1174b5(0x128)]){const _0x16755f=_0x2a29a4[_0x1174b5(0x148)](_0x1174b5(0x118))['doc'](_0x2a24eb[_0x1174b5(0x128)]['uid']);document[_0x1174b5(0x138)](_0x1174b5(0x146))[_0x1174b5(0x156)]=_0x1174b5(0x14b),_0x16755f['update']({'name':_0x3b3325[_0x1174b5(0x144)],'bio':_0x5b306c[_0x1174b5(0x144)],'profileIMG':_0x4a6f62})[_0x1174b5(0x125)](()=>{const _0x2da349=_0x1174b5;console['log'](_0x2da349(0x15a)),setTimeout(()=>{const _0x9b8073=_0x2da349;document['getElementById'](_0x9b8073(0x146))[_0x9b8073(0x156)]=_0x9b8073(0x113),window['location'][_0x9b8073(0x13e)]='/index.html';},0x3e8);})['catch'](_0x22fb7b=>{const _0x3333f3=_0x1174b5;alert(_0x3333f3(0x122)),console[_0x3333f3(0x12a)](_0x3333f3(0x165),_0x22fb7b);});}else console['error']('User\x20is\x20not\x20authenticated'),alert(_0x1174b5(0x130));}function a0_0x5301(_0x5db3cb,_0x5186e7){const _0xd09186=a0_0xd091();return a0_0x5301=function(_0x530167,_0xaa2cb4){_0x530167=_0x530167-0x10c;let _0x325499=_0xd09186[_0x530167];return _0x325499;},a0_0x5301(_0x5db3cb,_0x5186e7);}function uploadProfilePicture(_0xe625d5,_0xdc5583,_0x4d0c76){const _0x25fe39=a0_0x5301,_0x388d4a=firebase['storage']()['ref'](),_0x5491df=_0xe625d5[_0x25fe39(0x12c)]['split']('.')['pop'](),_0x21887e=_0xdc5583[_0x25fe39(0x128)][_0x25fe39(0x149)]+'.'+_0x5491df,_0x20969d=_0x388d4a[_0x25fe39(0x162)](_0x25fe39(0x11d)+_0x21887e);document['getElementById']('submitButton')[_0x25fe39(0x156)]=_0x25fe39(0x121),_0x20969d[_0x25fe39(0x10e)](_0xe625d5)[_0x25fe39(0x125)](_0x2d2679=>{const _0x210158=_0x25fe39;return _0x2d2679[_0x210158(0x15e)][_0x210158(0x10c)]();})[_0x25fe39(0x125)](_0x3c9de3=>{return updateUserProfile(_0x3c9de3,_0xdc5583,_0x4d0c76);})[_0x25fe39(0x14f)](_0xbea945=>{const _0x20b6b9=_0x25fe39;alert('Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.'),console[_0x20b6b9(0x12a)]('Error\x20uploading\x20profile\x20picture:',_0xbea945);});}document[a0_0xf286be(0x124)](a0_0xf286be(0x12e),()=>{const _0x47bf13=a0_0xf286be;let _0x3d443d=firebase[_0x47bf13(0x13d)](),_0x5d4465=firebase[_0x47bf13(0x131)]();const _0x28083f=document[_0x47bf13(0x138)](_0x47bf13(0x15d)),_0x48c50a=document['getElementById'](_0x47bf13(0x137)),_0x3774a4=document[_0x47bf13(0x138)](_0x47bf13(0x115)),_0x1995e4=document[_0x47bf13(0x138)](_0x47bf13(0x146)),_0x3e2848=document[_0x47bf13(0x138)](_0x47bf13(0x123));_0x1995e4['addEventListener'](_0x47bf13(0x13c),_0x293962=>{const _0xb8dbb=_0x47bf13;_0x293962[_0xb8dbb(0x11e)](),useDefaultImageFlag=![],submitProfile();}),_0x3e2848[_0x47bf13(0x124)](_0x47bf13(0x13c),()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],submitProfile();}),_0x3d443d['onAuthStateChanged'](function(_0x3c5986){const _0x7019a=_0x47bf13;if(_0x3c5986){validateForm();const _0x3a52b0=_0x5d4465[_0x7019a(0x148)](_0x7019a(0x118))['doc'](_0x3d443d[_0x7019a(0x128)][_0x7019a(0x149)]);_0x3a52b0['get']()[_0x7019a(0x125)](_0x54ab92=>{const _0x35b2cb=_0x7019a;if(_0x54ab92[_0x35b2cb(0x155)]){const _0x5c3620=_0x54ab92['data']();_0x28083f[_0x35b2cb(0x144)]=_0x5c3620[_0x35b2cb(0x12c)],_0x48c50a['value']=_0x5c3620[_0x35b2cb(0x147)],_0x3774a4[_0x35b2cb(0x144)]=_0x5c3620[_0x35b2cb(0x117)],document[_0x35b2cb(0x150)](_0x35b2cb(0x166))[_0x35b2cb(0x163)]=_0x5c3620[_0x35b2cb(0x126)];}});}else alert(_0x7019a(0x143)),window[_0x7019a(0x160)][_0x7019a(0x13e)]=_0x7019a(0x15f);});});