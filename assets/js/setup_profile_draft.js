const a0_0x176aa3=a0_0x317c;(function(_0x3a8891,_0x1f4b1e){const _0x14580f=a0_0x317c,_0x2ea5d1=_0x3a8891();while(!![]){try{const _0x443e8f=-parseInt(_0x14580f(0x16d))/0x1+-parseInt(_0x14580f(0x13f))/0x2+parseInt(_0x14580f(0x156))/0x3*(parseInt(_0x14580f(0x174))/0x4)+parseInt(_0x14580f(0x13a))/0x5+parseInt(_0x14580f(0x180))/0x6*(parseInt(_0x14580f(0x15a))/0x7)+parseInt(_0x14580f(0x142))/0x8+-parseInt(_0x14580f(0x14b))/0x9*(parseInt(_0x14580f(0x162))/0xa);if(_0x443e8f===_0x1f4b1e)break;else _0x2ea5d1['push'](_0x2ea5d1['shift']());}catch(_0xb27e19){_0x2ea5d1['push'](_0x2ea5d1['shift']());}}}(a0_0x3156,0xe5589));function a0_0x317c(_0x327d71,_0x3fe67b){const _0x3156dc=a0_0x3156();return a0_0x317c=function(_0x317c08,_0x209510){_0x317c08=_0x317c08-0x127;let _0x4dccf1=_0x3156dc[_0x317c08];return _0x4dccf1;},a0_0x317c(_0x327d71,_0x3fe67b);}function a0_0x3156(){const _0x511894=['pop','collection','ref','href','querySelector','245370LZdBSk','height','Error\x20uploading\x20profile\x20picture:','error','click','exists','target','style','Error\x20updating\x20profile:','firestore','result','use-default-image','crop-set','put','storage','doc','edit-profile-email','log','block','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','/index.html','Please\x20upload\x20a\x20profile\x20picture.','profileIMG','disappear-for-crop','name','.profile-picture-picker-image','getElementById','readAsDataURL','change','5905580koqzSh','profile-picture-picker','auth','src','image/jpeg','1746610gJFQaW','#cropme','value','9782648hWNnEw','Error\x20setting\x20default\x20picture:','onerror','submitButton','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','email','bind','DOMContentLoaded','.jpeg','1256355wvQedw','get','profile-picture-picker-image','crop','data','users_profilePic/','display','bio','blob','loading...','saving...','30sgPsQA','uid','/signin.html','location','203QhGmOx','onload','There\x20was\x20an\x20error\x20reading\x20the\x20image.','cropme','innerText','Please\x20upload\x20a\x20square\x20image.','edit-profile-full-name','uploading...','110dKjmPR','none','files','Users','addEventListener','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','getDownloadURL','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','preventDefault','disappear-btn-for-crop','Profile\x20updated\x20with\x20new\x20image','931841Etxzkd','update','then','right','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','There\x20was\x20an\x20error\x20reading\x20the\x20file.','currentUser','276076ymauUq','child','catch','default_user.jpeg','destroy','width','/assets/img/default_user.jpeg'];a0_0x3156=function(){return _0x511894;};return a0_0x3156();}let useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x8d9343=a0_0x317c;document['getElementById'](_0x8d9343(0x13b))[_0x8d9343(0x166)](_0x8d9343(0x139),_0x2e79d3=>{const _0x5b81d9=_0x8d9343,_0xc347f3=_0x2e79d3[_0x5b81d9(0x186)]['files'][0x0];if(_0xc347f3){const _0xc7d091=new FileReader();_0xc7d091[_0x5b81d9(0x15b)]=function(_0x2e1145){const _0x21f194=_0x5b81d9;document[_0x21f194(0x17f)](_0x21f194(0x136))[_0x21f194(0x13d)]=_0x2e1145[_0x21f194(0x186)][_0x21f194(0x127)],document[_0x21f194(0x137)]('disappear-for-crop')['style'][_0x21f194(0x151)]=_0x21f194(0x163),document['getElementById']('disappear-btn-for-crop')[_0x21f194(0x187)]['display']=_0x21f194(0x163),document[_0x21f194(0x137)](_0x21f194(0x14d))[_0x21f194(0x187)][_0x21f194(0x151)]=_0x21f194(0x163),document[_0x21f194(0x137)](_0x21f194(0x129))[_0x21f194(0x187)][_0x21f194(0x151)]=_0x21f194(0x12f),document['getElementById']('cropme')[_0x21f194(0x187)]['display']='block';var _0x203309=$(_0x21f194(0x140))[_0x21f194(0x15d)]({'rotation':{'enable':!![],'slider':![],'position':_0x21f194(0x170)}});_0x203309[_0x21f194(0x15d)](_0x21f194(0x148),{'url':_0x2e1145[_0x21f194(0x186)][_0x21f194(0x127)]});},_0xc7d091['readAsDataURL'](_0xc347f3);}}),document[_0x8d9343(0x137)](_0x8d9343(0x129))[_0x8d9343(0x166)](_0x8d9343(0x184),function(){const _0x4b1958=_0x8d9343;var _0xad66af=$(_0x4b1958(0x140))['cropme']({'rotation':{'enable':!![],'slider':![],'position':_0x4b1958(0x170)}});_0xad66af[_0x4b1958(0x15d)](_0x4b1958(0x14e),{'type':_0x4b1958(0x153)})[_0x4b1958(0x16f)](function(_0x2f3db9){const _0x4d3106=_0x4b1958;fetch(_0x2f3db9)[_0x4d3106(0x16f)](_0x5c8283=>_0x5c8283[_0x4d3106(0x153)]())[_0x4d3106(0x16f)](_0x68a3bc=>{const _0x443c03=_0x4d3106;var _0x197895=new FileReader();_0x197895['onloadend']=function(){const _0x20e04f=a0_0x317c;document[_0x20e04f(0x17f)](_0x20e04f(0x136))[_0x20e04f(0x13d)]=_0x197895[_0x20e04f(0x127)],document['getElementById'](_0x20e04f(0x134))['style']['display']=_0x20e04f(0x12f),document[_0x20e04f(0x137)](_0x20e04f(0x16b))[_0x20e04f(0x187)]['display']=_0x20e04f(0x12f),document[_0x20e04f(0x137)](_0x20e04f(0x14d))[_0x20e04f(0x187)]['display']=_0x20e04f(0x12f),document['getElementById'](_0x20e04f(0x129))[_0x20e04f(0x187)][_0x20e04f(0x151)]=_0x20e04f(0x163),document[_0x20e04f(0x137)]('cropme')[_0x20e04f(0x187)]['display']=_0x20e04f(0x163),_0xad66af[_0x20e04f(0x15d)](_0x20e04f(0x178));},_0x197895[_0x443c03(0x138)](_0x68a3bc);})[_0x4d3106(0x176)](_0x390247=>console[_0x4d3106(0x183)]('Error:',_0x390247));});});}function useDefaultImage(){const _0x312703=a0_0x317c,_0x9ef1dc=firebase[_0x312703(0x12b)]()[_0x312703(0x17d)](),_0x54b86a=firebase[_0x312703(0x13c)](),_0x296eb3=firebase[_0x312703(0x189)](),_0x32a1fd=_0x312703(0x17a);fetch(_0x32a1fd)[_0x312703(0x16f)](_0x3441c9=>_0x3441c9[_0x312703(0x153)]())['then'](_0x526469=>{const _0x5d65aa=_0x312703,_0x7f121f=_0x9ef1dc['child'](_0x5d65aa(0x150)+_0x54b86a[_0x5d65aa(0x173)][_0x5d65aa(0x157)]+_0x5d65aa(0x14a));return _0x7f121f[_0x5d65aa(0x12a)](_0x526469);})[_0x312703(0x16f)](_0x57231e=>_0x57231e['ref'][_0x312703(0x168)]())[_0x312703(0x16f)](_0x51bb50=>{const _0x3856d6=_0x312703;return _0x296eb3['collection'](_0x3856d6(0x165))[_0x3856d6(0x12c)](_0x54b86a[_0x3856d6(0x173)][_0x3856d6(0x157)])[_0x3856d6(0x16e)]({'profileIMG':_0x51bb50});})[_0x312703(0x16f)](()=>{const _0x278f6d=_0x312703;console[_0x278f6d(0x12e)]('Updated\x20profile\x20with\x20default\x20image'),document['querySelector']('.profile-picture-picker-image')[_0x278f6d(0x13d)]=_0x32a1fd;})[_0x312703(0x176)](_0x3b0b27=>{const _0x230005=_0x312703;console[_0x230005(0x183)](_0x230005(0x143),_0x3b0b27),alert(_0x230005(0x167));});}function submitProfile(){const _0x3fdb49=a0_0x317c,_0x85ae14=document[_0x3fdb49(0x137)](_0x3fdb49(0x13b)),_0x491a4a=firebase[_0x3fdb49(0x13c)](),_0x3da6fc=firebase[_0x3fdb49(0x189)]();if(useDefaultImageFlag)useDefaultImage(_0x491a4a,_0x3da6fc);else{const _0x8aff92=_0x85ae14[_0x3fdb49(0x164)][0x0];console[_0x3fdb49(0x12e)](usedDefaultImage);if(_0x8aff92){document[_0x3fdb49(0x137)](_0x3fdb49(0x145))[_0x3fdb49(0x15e)]=_0x3fdb49(0x154);const _0x2f377f=new FileReader();_0x2f377f['onload']=function(_0x13a4ae){const _0x209dd2=_0x3fdb49,_0xffe960=new Image();_0xffe960['onload']=function(){const _0x1da932=a0_0x317c;_0xffe960[_0x1da932(0x179)]===_0xffe960[_0x1da932(0x181)]?uploadProfilePicture(_0x8aff92,_0x491a4a,_0x3da6fc):alert(_0x1da932(0x15f));},_0xffe960[_0x209dd2(0x144)]=function(){const _0x23f4a5=_0x209dd2;alert(_0x23f4a5(0x15c));},_0xffe960[_0x209dd2(0x13d)]=_0x13a4ae[_0x209dd2(0x186)]['result'];},_0x2f377f[_0x3fdb49(0x144)]=function(){const _0x3687ad=_0x3fdb49;alert(_0x3687ad(0x172));},_0x2f377f[_0x3fdb49(0x138)](_0x8aff92);}else{if(usedDefaultImage){const _0x5c3f1e=_0x3fdb49(0x17a);fetch(_0x5c3f1e)[_0x3fdb49(0x16f)](_0x1e5010=>_0x1e5010[_0x3fdb49(0x153)]())[_0x3fdb49(0x16f)](_0x1b7821=>{const _0x28b924=_0x3fdb49,_0xd1f6f5=new File([_0x1b7821],_0x28b924(0x177),{'type':_0x28b924(0x13e)});uploadProfilePicture(_0xd1f6f5,_0x491a4a,_0x3da6fc);});}else alert(_0x3fdb49(0x132));}}}function updateUserProfile(_0x3dfc3d,_0x398205,_0x4c085b){const _0x35e495=a0_0x317c,_0x470c33=document[_0x35e495(0x137)]('edit-profile-full-name'),_0x126ecc=document[_0x35e495(0x137)](_0x35e495(0x152));if(_0x398205['currentUser']){const _0x2fda4d=_0x4c085b[_0x35e495(0x17c)]('Users')[_0x35e495(0x12c)](_0x398205['currentUser'][_0x35e495(0x157)]);document['getElementById'](_0x35e495(0x145))[_0x35e495(0x15e)]=_0x35e495(0x155),_0x2fda4d[_0x35e495(0x16e)]({'name':_0x470c33[_0x35e495(0x141)],'bio':_0x126ecc[_0x35e495(0x141)],'profileIMG':_0x3dfc3d})[_0x35e495(0x16f)](()=>{const _0x363cb9=_0x35e495;console[_0x363cb9(0x12e)](_0x363cb9(0x16c)),setTimeout(()=>{const _0xb1ffa=_0x363cb9;document['getElementById'](_0xb1ffa(0x145))[_0xb1ffa(0x15e)]='done!',window[_0xb1ffa(0x159)][_0xb1ffa(0x17e)]=_0xb1ffa(0x131);},0x3e8);})[_0x35e495(0x176)](_0xc9d3c3=>{const _0x33888c=_0x35e495;alert(_0x33888c(0x169)),console[_0x33888c(0x183)](_0x33888c(0x188),_0xc9d3c3);});}else console[_0x35e495(0x183)]('User\x20is\x20not\x20authenticated'),alert(_0x35e495(0x130));}function uploadProfilePicture(_0x875139,_0x223495,_0x2d5161){const _0x5a4228=a0_0x317c,_0xcdce85=firebase[_0x5a4228(0x12b)]()[_0x5a4228(0x17d)](),_0x31377=_0x875139[_0x5a4228(0x135)]['split']('.')[_0x5a4228(0x17b)](),_0x257e2a=_0x223495[_0x5a4228(0x173)][_0x5a4228(0x157)]+'.'+_0x31377,_0x2085a8=_0xcdce85[_0x5a4228(0x175)](_0x5a4228(0x150)+_0x257e2a);document[_0x5a4228(0x137)]('submitButton')['innerText']=_0x5a4228(0x161),_0x2085a8[_0x5a4228(0x12a)](_0x875139)['then'](_0x5d69fa=>{const _0x3bc530=_0x5a4228;return _0x5d69fa[_0x3bc530(0x17d)][_0x3bc530(0x168)]();})[_0x5a4228(0x16f)](_0x562788=>{return updateUserProfile(_0x562788,_0x223495,_0x2d5161);})[_0x5a4228(0x176)](_0x5ae256=>{const _0x1cc2f0=_0x5a4228;alert(_0x1cc2f0(0x171)),console[_0x1cc2f0(0x183)](_0x1cc2f0(0x182),_0x5ae256);});}document[a0_0x176aa3(0x166)](a0_0x176aa3(0x149),()=>{const _0x5a6923=a0_0x176aa3;let _0x108b21=firebase['auth'](),_0x5a4b0c=firebase[_0x5a6923(0x189)]();const _0x35b3ce=document['getElementById'](_0x5a6923(0x160)),_0x28e784=document[_0x5a6923(0x137)]('edit-profile-userid'),_0x1fb9ba=document[_0x5a6923(0x137)](_0x5a6923(0x12d)),_0x312192=document['getElementById'](_0x5a6923(0x145)),_0x2b8018=document[_0x5a6923(0x137)](_0x5a6923(0x128));_0x312192[_0x5a6923(0x166)](_0x5a6923(0x184),_0xca40d=>{const _0x596f1b=_0x5a6923;_0xca40d[_0x596f1b(0x16a)](),useDefaultImageFlag=![],submitProfile();}),_0x2b8018[_0x5a6923(0x166)](_0x5a6923(0x184),()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],submitProfile();}),_0x108b21['onAuthStateChanged'](function(_0x504fc8){const _0x470e7e=_0x5a6923;if(_0x504fc8){validateForm();const _0x4db1b1=_0x5a4b0c[_0x470e7e(0x17c)](_0x470e7e(0x165))[_0x470e7e(0x12c)](_0x108b21['currentUser'][_0x470e7e(0x157)]);_0x4db1b1[_0x470e7e(0x14c)]()['then'](_0x23f56a=>{const _0x16eef7=_0x470e7e;if(_0x23f56a[_0x16eef7(0x185)]){const _0x18303d=_0x23f56a[_0x16eef7(0x14f)]();_0x35b3ce[_0x16eef7(0x141)]=_0x18303d[_0x16eef7(0x135)],_0x28e784['value']=_0x18303d['senderId'],_0x1fb9ba[_0x16eef7(0x141)]=_0x18303d[_0x16eef7(0x147)],document[_0x16eef7(0x17f)](_0x16eef7(0x136))[_0x16eef7(0x13d)]=_0x18303d[_0x16eef7(0x133)];}});}else alert(_0x470e7e(0x146)),window[_0x470e7e(0x159)][_0x470e7e(0x17e)]=_0x470e7e(0x158);});});