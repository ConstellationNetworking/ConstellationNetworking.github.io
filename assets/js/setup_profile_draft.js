const a0_0x50c922=a0_0x3a41;(function(_0x3ee251,_0x4dc1d8){const _0x35f829=a0_0x3a41,_0x247c23=_0x3ee251();while(!![]){try{const _0x49a35d=-parseInt(_0x35f829(0x114))/0x1*(parseInt(_0x35f829(0x170))/0x2)+parseInt(_0x35f829(0x16a))/0x3+parseInt(_0x35f829(0x149))/0x4+-parseInt(_0x35f829(0x178))/0x5*(-parseInt(_0x35f829(0x13a))/0x6)+parseInt(_0x35f829(0x15c))/0x7*(-parseInt(_0x35f829(0x115))/0x8)+-parseInt(_0x35f829(0x129))/0x9+-parseInt(_0x35f829(0x169))/0xa*(-parseInt(_0x35f829(0x137))/0xb);if(_0x49a35d===_0x4dc1d8)break;else _0x247c23['push'](_0x247c23['shift']());}catch(_0x5311fc){_0x247c23['push'](_0x247c23['shift']());}}}(a0_0x4f41,0x3ffc0));let useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x530ea8=a0_0x3a41;document['getElementById'](_0x530ea8(0x131))[_0x530ea8(0x12e)](_0x530ea8(0x163),_0x13a1da=>{const _0x1b3e34=_0x530ea8,_0x364d20=_0x13a1da['target'][_0x1b3e34(0x146)][0x0];if(_0x364d20){const _0x1fba9a=new FileReader();_0x1fba9a['onload']=function(_0x2922bf){const _0x4cc7b3=_0x1b3e34;document[_0x4cc7b3(0x165)](_0x4cc7b3(0x171))[_0x4cc7b3(0x13d)]=_0x2922bf[_0x4cc7b3(0x143)][_0x4cc7b3(0x16b)],document[_0x4cc7b3(0x167)](_0x4cc7b3(0x121))[_0x4cc7b3(0x11b)]['display']='none',document[_0x4cc7b3(0x167)](_0x4cc7b3(0x168))[_0x4cc7b3(0x11b)]['display']=_0x4cc7b3(0x16f),document[_0x4cc7b3(0x167)](_0x4cc7b3(0x119))[_0x4cc7b3(0x11b)]['display']=_0x4cc7b3(0x16f),document[_0x4cc7b3(0x167)]('crop-set')['style'][_0x4cc7b3(0x155)]=_0x4cc7b3(0x126),document[_0x4cc7b3(0x167)](_0x4cc7b3(0x12b))['style'][_0x4cc7b3(0x155)]='block';var _0x3a8723=$(_0x4cc7b3(0x15a))[_0x4cc7b3(0x12b)]({'rotation':{'enable':!![],'slider':![],'position':_0x4cc7b3(0x14a)}});_0x3a8723[_0x4cc7b3(0x12b)](_0x4cc7b3(0x160),{'url':_0x2922bf['target'][_0x4cc7b3(0x16b)]});},_0x1fba9a[_0x1b3e34(0x13c)](_0x364d20);}}),document['getElementById'](_0x530ea8(0x156))[_0x530ea8(0x12e)](_0x530ea8(0x13b),function(){const _0x2cd0f6=_0x530ea8;var _0x37ae8c=$('#cropme')[_0x2cd0f6(0x12b)]({'rotation':{'enable':!![],'slider':![],'position':_0x2cd0f6(0x14a)}});_0x37ae8c[_0x2cd0f6(0x12b)](_0x2cd0f6(0x179),{'type':_0x2cd0f6(0x15d)})[_0x2cd0f6(0x12a)](function(_0x3e071d){const _0x188e96=_0x2cd0f6;fetch(_0x3e071d)[_0x188e96(0x12a)](_0x17cc8d=>_0x17cc8d[_0x188e96(0x15d)]())[_0x188e96(0x12a)](_0x2d1340=>{const _0x4ad878=_0x188e96;var _0x3ff624=new FileReader();_0x3ff624[_0x4ad878(0x151)]=function(){const _0x421a43=_0x4ad878;document[_0x421a43(0x165)](_0x421a43(0x171))[_0x421a43(0x13d)]=_0x3ff624[_0x421a43(0x16b)],document[_0x421a43(0x167)](_0x421a43(0x121))[_0x421a43(0x11b)][_0x421a43(0x155)]=_0x421a43(0x126),document[_0x421a43(0x167)](_0x421a43(0x168))[_0x421a43(0x11b)][_0x421a43(0x155)]='block',document[_0x421a43(0x167)](_0x421a43(0x119))[_0x421a43(0x11b)][_0x421a43(0x155)]=_0x421a43(0x126),document['getElementById'](_0x421a43(0x156))[_0x421a43(0x11b)][_0x421a43(0x155)]=_0x421a43(0x16f),document[_0x421a43(0x167)]('cropme')[_0x421a43(0x11b)][_0x421a43(0x155)]=_0x421a43(0x16f),_0x37ae8c[_0x421a43(0x12b)](_0x421a43(0x123));},_0x3ff624[_0x4ad878(0x13c)](_0x2d1340);})['catch'](_0x3c183c=>console[_0x188e96(0x133)](_0x188e96(0x174),_0x3c183c));});});}function a0_0x4f41(){const _0x4df043=['profileIMG','getElementById','disappear-btn-for-crop','430RCdinj','673959omocIp','result','edit-profile-email','location','split','none','1009418vXlKcu','.profile-picture-picker-image','child','auth','Error:','catch','senderId','loading...','1966260CpxPgN','crop','1mSIMQF','61904tbTsRE','onload','uid','currentUser','profile-picture-picker-image','data','style','width','edit-profile-userid','onAuthStateChanged','Please\x20upload\x20a\x20profile\x20picture.','Error\x20uploading\x20profile\x20picture:','disappear-for-crop','Error\x20setting\x20default\x20picture:','destroy','ref','Updated\x20profile\x20with\x20default\x20image','block','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','2109762cZtqgK','then','cropme','firestore','There\x20was\x20an\x20error\x20reading\x20the\x20file.','addEventListener','value','name','profile-picture-picker','pop','error','image/jpeg','height','log','113927ZrbMKa','.jpeg','done!','6yaebKQ','click','readAsDataURL','src','doc','edit-profile-full-name','storage','onerror','submitButton','target','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','files','update','/assets/img/default_user.jpeg','1639876mlcpWM','right','users_profilePic/','get','use-default-image','Please\x20upload\x20a\x20square\x20image.','/signin.html','User\x20is\x20not\x20authenticated','onloadend','uploading...','href','Error\x20updating\x20profile:','display','crop-set','collection','email','saving...','#cropme','Users','427XZWNLF','blob','exists','innerText','bind','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','getDownloadURL','change','put','querySelector'];a0_0x4f41=function(){return _0x4df043;};return a0_0x4f41();}function useDefaultImage(){const _0x3e47fb=a0_0x3a41,_0x2c1f3a=firebase[_0x3e47fb(0x140)]()[_0x3e47fb(0x124)](),_0x358bf6=firebase[_0x3e47fb(0x173)](),_0x4fe61e=firebase['firestore'](),_0x2e3ce2=_0x3e47fb(0x148);fetch(_0x2e3ce2)['then'](_0x42be7d=>_0x42be7d[_0x3e47fb(0x15d)]())[_0x3e47fb(0x12a)](_0x499b37=>{const _0x46bf5f=_0x3e47fb,_0xbed94d=_0x2c1f3a[_0x46bf5f(0x172)](_0x46bf5f(0x14b)+_0x358bf6['currentUser'][_0x46bf5f(0x117)]+_0x46bf5f(0x138));return _0xbed94d[_0x46bf5f(0x164)](_0x499b37);})['then'](_0x26bc1a=>_0x26bc1a[_0x3e47fb(0x124)]['getDownloadURL']())[_0x3e47fb(0x12a)](_0x119fad=>{const _0x4d94e8=_0x3e47fb;return _0x4fe61e[_0x4d94e8(0x157)](_0x4d94e8(0x15b))[_0x4d94e8(0x13e)](_0x358bf6[_0x4d94e8(0x118)][_0x4d94e8(0x117)])[_0x4d94e8(0x147)]({'profileIMG':_0x119fad});})[_0x3e47fb(0x12a)](()=>{const _0x426bb3=_0x3e47fb;console[_0x426bb3(0x136)](_0x426bb3(0x125)),document[_0x426bb3(0x165)](_0x426bb3(0x171))['src']=_0x2e3ce2;})[_0x3e47fb(0x175)](_0x5a8593=>{const _0x492665=_0x3e47fb;console['error'](_0x492665(0x122),_0x5a8593),alert(_0x492665(0x161));});}function a0_0x3a41(_0x4fc048,_0x9f16c9){const _0x4f413c=a0_0x4f41();return a0_0x3a41=function(_0x3a41ea,_0x578eb7){_0x3a41ea=_0x3a41ea-0x114;let _0x4639a7=_0x4f413c[_0x3a41ea];return _0x4639a7;},a0_0x3a41(_0x4fc048,_0x9f16c9);}function submitProfile(){const _0x524b9e=a0_0x3a41,_0x14382e=document[_0x524b9e(0x167)]('profile-picture-picker'),_0x3c7d38=firebase[_0x524b9e(0x173)](),_0x4e0797=firebase[_0x524b9e(0x12c)]();if(useDefaultImageFlag)useDefaultImage(_0x3c7d38,_0x4e0797);else{const _0x164aa2=_0x14382e[_0x524b9e(0x146)][0x0];console['log'](usedDefaultImage);if(_0x164aa2){document[_0x524b9e(0x167)](_0x524b9e(0x142))[_0x524b9e(0x15f)]=_0x524b9e(0x177);const _0x3ff004=new FileReader();_0x3ff004['onload']=function(_0x428be5){const _0x372305=_0x524b9e,_0x5cac30=new Image();_0x5cac30[_0x372305(0x116)]=function(){const _0x3e65fd=_0x372305;_0x5cac30[_0x3e65fd(0x11c)]===_0x5cac30[_0x3e65fd(0x135)]?uploadProfilePicture(_0x164aa2,_0x3c7d38,_0x4e0797):alert(_0x3e65fd(0x14e));},_0x5cac30[_0x372305(0x141)]=function(){alert('There\x20was\x20an\x20error\x20reading\x20the\x20image.');},_0x5cac30[_0x372305(0x13d)]=_0x428be5[_0x372305(0x143)][_0x372305(0x16b)];},_0x3ff004[_0x524b9e(0x141)]=function(){const _0x554bba=_0x524b9e;alert(_0x554bba(0x12d));},_0x3ff004[_0x524b9e(0x13c)](_0x164aa2);}else{if(usedDefaultImage){const _0x1abd7=_0x524b9e(0x148);fetch(_0x1abd7)[_0x524b9e(0x12a)](_0x13ba1f=>_0x13ba1f['blob']())[_0x524b9e(0x12a)](_0x4b95c2=>{const _0x1d4bd2=_0x524b9e,_0x2100b8=new File([_0x4b95c2],'default_user.jpeg',{'type':_0x1d4bd2(0x134)});uploadProfilePicture(_0x2100b8,_0x3c7d38,_0x4e0797);});}else alert(_0x524b9e(0x11f));}}}function updateUserProfile(_0x58c03e,_0x2541fa,_0x32ef0e){const _0x5a51d7=a0_0x3a41,_0x24e4ea=document[_0x5a51d7(0x167)](_0x5a51d7(0x13f)),_0x1cc5ad=document['getElementById']('bio');if(_0x2541fa['currentUser']){const _0x271d54=_0x32ef0e['collection'](_0x5a51d7(0x15b))[_0x5a51d7(0x13e)](_0x2541fa[_0x5a51d7(0x118)]['uid']);document[_0x5a51d7(0x167)](_0x5a51d7(0x142))['innerText']=_0x5a51d7(0x159),_0x271d54[_0x5a51d7(0x147)]({'name':_0x24e4ea[_0x5a51d7(0x12f)],'bio':_0x1cc5ad[_0x5a51d7(0x12f)],'profileIMG':_0x58c03e})['then'](()=>{const _0x55a2c7=_0x5a51d7;console[_0x55a2c7(0x136)]('Profile\x20updated\x20with\x20new\x20image'),setTimeout(()=>{const _0x13e4cf=_0x55a2c7;document['getElementById'](_0x13e4cf(0x142))[_0x13e4cf(0x15f)]=_0x13e4cf(0x139),window['location'][_0x13e4cf(0x153)]='/index.html';},0x3e8);})[_0x5a51d7(0x175)](_0x3f03ec=>{const _0x4c6f9e=_0x5a51d7;alert(_0x4c6f9e(0x145)),console[_0x4c6f9e(0x133)](_0x4c6f9e(0x154),_0x3f03ec);});}else console[_0x5a51d7(0x133)](_0x5a51d7(0x150)),alert(_0x5a51d7(0x144));}function uploadProfilePicture(_0x42a33e,_0x393827,_0x481ba5){const _0x3ed578=a0_0x3a41,_0x30c598=firebase[_0x3ed578(0x140)]()[_0x3ed578(0x124)](),_0x4dc768=_0x42a33e[_0x3ed578(0x130)][_0x3ed578(0x16e)]('.')[_0x3ed578(0x132)](),_0x1c655c=_0x393827[_0x3ed578(0x118)][_0x3ed578(0x117)]+'.'+_0x4dc768,_0x53daa7=_0x30c598[_0x3ed578(0x172)](_0x3ed578(0x14b)+_0x1c655c);document[_0x3ed578(0x167)](_0x3ed578(0x142))[_0x3ed578(0x15f)]=_0x3ed578(0x152),_0x53daa7['put'](_0x42a33e)[_0x3ed578(0x12a)](_0x59224e=>{const _0x5c1c44=_0x3ed578;return _0x59224e[_0x5c1c44(0x124)][_0x5c1c44(0x162)]();})[_0x3ed578(0x12a)](_0x753545=>{return updateUserProfile(_0x753545,_0x393827,_0x481ba5);})[_0x3ed578(0x175)](_0x265e70=>{const _0x48d0fc=_0x3ed578;alert(_0x48d0fc(0x127)),console[_0x48d0fc(0x133)](_0x48d0fc(0x120),_0x265e70);});}document[a0_0x50c922(0x12e)]('DOMContentLoaded',()=>{const _0x1cfd07=a0_0x50c922;let _0xded645=firebase[_0x1cfd07(0x173)](),_0x563876=firebase[_0x1cfd07(0x12c)]();const _0x2b6a50=document['getElementById'](_0x1cfd07(0x13f)),_0x6e5a3d=document[_0x1cfd07(0x167)](_0x1cfd07(0x11d)),_0x578722=document['getElementById'](_0x1cfd07(0x16c)),_0x57fa8f=document[_0x1cfd07(0x167)](_0x1cfd07(0x142)),_0x427600=document[_0x1cfd07(0x167)](_0x1cfd07(0x14d));_0x57fa8f['addEventListener'](_0x1cfd07(0x13b),_0x18b043=>{_0x18b043['preventDefault'](),useDefaultImageFlag=![],submitProfile();}),_0x427600[_0x1cfd07(0x12e)](_0x1cfd07(0x13b),()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],submitProfile();}),_0xded645[_0x1cfd07(0x11e)](function(_0x44e106){const _0xdb65b0=_0x1cfd07;if(_0x44e106){validateForm();const _0xe74d7f=_0x563876[_0xdb65b0(0x157)]('Users')[_0xdb65b0(0x13e)](_0xded645['currentUser'][_0xdb65b0(0x117)]);_0xe74d7f[_0xdb65b0(0x14c)]()['then'](_0x215bc8=>{const _0x2aa264=_0xdb65b0;if(_0x215bc8[_0x2aa264(0x15e)]){const _0x13d4c0=_0x215bc8[_0x2aa264(0x11a)]();_0x2b6a50[_0x2aa264(0x12f)]=_0x13d4c0[_0x2aa264(0x130)],_0x6e5a3d[_0x2aa264(0x12f)]=_0x13d4c0[_0x2aa264(0x176)],_0x578722[_0x2aa264(0x12f)]=_0x13d4c0[_0x2aa264(0x158)],document['querySelector'](_0x2aa264(0x171))[_0x2aa264(0x13d)]=_0x13d4c0[_0x2aa264(0x166)];}});}else alert(_0xdb65b0(0x128)),window[_0xdb65b0(0x16d)]['href']=_0xdb65b0(0x14f);});});