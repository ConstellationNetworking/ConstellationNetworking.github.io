const a0_0x5e16c8=a0_0x50a6;function a0_0x5630(){const _0x4cd25b=['Error\x20setting\x20default\x20picture:','error','getDownloadURL','crop','4959073dlgdSq','profile-picture-picker','ref','Updated\x20profile\x20with\x20default\x20image','3953538HiAuQG','Profile\x20updated\x20with\x20new\x20image','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','destroy','uid','DOMContentLoaded','getElementById','height','readAsDataURL','src','firestore','profile-picture-picker-image','pop','split','There\x20was\x20an\x20error\x20reading\x20the\x20image.','2179600ebhYyO','update','senderId','disappear-btn-for-crop','onerror','profileIMG','submitButton','collection','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','innerText','crop-set','.profile-picture-picker-image','There\x20was\x20an\x20error\x20reading\x20the\x20file.','#cropme','onAuthStateChanged','Error:','cropme','auth','2525040JZzAmH','style','Please\x20upload\x20a\x20profile\x20picture.','uploading...','block','click','Users','right','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','catch','put','users_profilePic/','addEventListener','/assets/img/default_user.jpeg','display','use-default-image','then','edit-profile-full-name','email','log','done!','.jpeg','Error\x20updating\x20profile:','image/jpeg','querySelector','1343940GvVniB','Please\x20upload\x20a\x20square\x20image.','href','5329011HuVFtL','get','currentUser','child','51844DCSWrc','location','none','result','target','disappear-for-crop','onload','change','storage','saving...','preventDefault','width','63yJiUsA','data','/signin.html','value','blob','65ywCZWi','doc'];a0_0x5630=function(){return _0x4cd25b;};return a0_0x5630();}(function(_0x4f14f9,_0x3d9f2f){const _0x518ec8=a0_0x50a6,_0x34f3a1=_0x4f14f9();while(!![]){try{const _0x2a79fc=-parseInt(_0x518ec8(0x117))/0x1+parseInt(_0x518ec8(0xfe))/0x2+parseInt(_0x518ec8(0x11a))/0x3+parseInt(_0x518ec8(0x11e))/0x4*(-parseInt(_0x518ec8(0x12f))/0x5)+parseInt(_0x518ec8(0x139))/0x6+parseInt(_0x518ec8(0x135))/0x7+parseInt(_0x518ec8(0xec))/0x8*(-parseInt(_0x518ec8(0x12a))/0x9);if(_0x2a79fc===_0x3d9f2f)break;else _0x34f3a1['push'](_0x34f3a1['shift']());}catch(_0xfbce40){_0x34f3a1['push'](_0x34f3a1['shift']());}}}(a0_0x5630,0xf0e0c));let useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x5a29e2=a0_0x50a6;document[_0x5a29e2(0x13f)]('profile-picture-picker')['addEventListener'](_0x5a29e2(0x125),_0x4ce7c2=>{const _0x58d5a1=_0x5a29e2,_0x4edef8=_0x4ce7c2[_0x58d5a1(0x122)]['files'][0x0];if(_0x4edef8){const _0x10fd18=new FileReader();_0x10fd18[_0x58d5a1(0x124)]=function(_0x1c5d67){const _0x584a1a=_0x58d5a1;document[_0x584a1a(0x116)](_0x584a1a(0xf7))[_0x584a1a(0x142)]=_0x1c5d67[_0x584a1a(0x122)][_0x584a1a(0x121)],document['getElementById'](_0x584a1a(0x123))[_0x584a1a(0xff)][_0x584a1a(0x10c)]='none',document[_0x584a1a(0x13f)](_0x584a1a(0xef))[_0x584a1a(0xff)][_0x584a1a(0x10c)]='none',document[_0x584a1a(0x13f)](_0x584a1a(0x144))[_0x584a1a(0xff)][_0x584a1a(0x10c)]=_0x584a1a(0x120),document[_0x584a1a(0x13f)](_0x584a1a(0xf6))['style'][_0x584a1a(0x10c)]=_0x584a1a(0x102),document[_0x584a1a(0x13f)](_0x584a1a(0xfc))['style']['display']=_0x584a1a(0x102);var _0x4eb139=$(_0x584a1a(0xf9))[_0x584a1a(0xfc)]({'rotation':{'enable':!![],'slider':![],'position':_0x584a1a(0x105)}});_0x4eb139[_0x584a1a(0xfc)]('bind',{'url':_0x1c5d67[_0x584a1a(0x122)][_0x584a1a(0x121)]});},_0x10fd18[_0x58d5a1(0x141)](_0x4edef8);}}),document[_0x5a29e2(0x13f)](_0x5a29e2(0xf6))[_0x5a29e2(0x10a)](_0x5a29e2(0x103),function(){const _0xac3313=_0x5a29e2;var _0x541059=$(_0xac3313(0xf9))[_0xac3313(0xfc)]({'rotation':{'enable':!![],'slider':![],'position':_0xac3313(0x105)}});_0x541059[_0xac3313(0xfc)](_0xac3313(0x134),{'type':_0xac3313(0x12e)})[_0xac3313(0x10e)](function(_0x1be078){const _0x3de8ec=_0xac3313;fetch(_0x1be078)[_0x3de8ec(0x10e)](_0x1afd71=>_0x1afd71[_0x3de8ec(0x12e)]())['then'](_0xc09d43=>{var _0x3fced7=new FileReader();_0x3fced7['onloadend']=function(){const _0x820af5=a0_0x50a6;document[_0x820af5(0x116)]('.profile-picture-picker-image')[_0x820af5(0x142)]=_0x3fced7['result'],document[_0x820af5(0x13f)](_0x820af5(0x123))[_0x820af5(0xff)]['display']=_0x820af5(0x102),document[_0x820af5(0x13f)]('disappear-btn-for-crop')[_0x820af5(0xff)][_0x820af5(0x10c)]=_0x820af5(0x102),document[_0x820af5(0x13f)](_0x820af5(0x144))[_0x820af5(0xff)][_0x820af5(0x10c)]=_0x820af5(0x102),document[_0x820af5(0x13f)](_0x820af5(0xf6))[_0x820af5(0xff)]['display']=_0x820af5(0x120),document[_0x820af5(0x13f)](_0x820af5(0xfc))['style']['display']=_0x820af5(0x120),_0x541059[_0x820af5(0xfc)](_0x820af5(0x13c));},_0x3fced7['readAsDataURL'](_0xc09d43);})[_0x3de8ec(0x107)](_0x34cb0e=>console['error'](_0x3de8ec(0xfb),_0x34cb0e));});});}function useDefaultImage(){const _0x2b8829=a0_0x50a6,_0x27c469=firebase[_0x2b8829(0x126)]()[_0x2b8829(0x137)](),_0x241d2b=firebase[_0x2b8829(0xfd)](),_0x338080=firebase[_0x2b8829(0x143)](),_0x307cbf=_0x2b8829(0x10b);fetch(_0x307cbf)[_0x2b8829(0x10e)](_0x176eca=>_0x176eca[_0x2b8829(0x12e)]())['then'](_0x26c575=>{const _0x5c03a7=_0x2b8829,_0x253272=_0x27c469[_0x5c03a7(0x11d)]('users_profilePic/'+_0x241d2b[_0x5c03a7(0x11c)]['uid']+_0x5c03a7(0x113));return _0x253272[_0x5c03a7(0x108)](_0x26c575);})[_0x2b8829(0x10e)](_0x16dfb4=>_0x16dfb4[_0x2b8829(0x137)][_0x2b8829(0x133)]())[_0x2b8829(0x10e)](_0x292e23=>{const _0x39b973=_0x2b8829;return _0x338080[_0x39b973(0xf3)](_0x39b973(0x104))[_0x39b973(0x130)](_0x241d2b['currentUser'][_0x39b973(0x13d)])[_0x39b973(0xed)]({'profileIMG':_0x292e23});})['then'](()=>{const _0x1836f7=_0x2b8829;console[_0x1836f7(0x111)](_0x1836f7(0x138)),document[_0x1836f7(0x116)](_0x1836f7(0xf7))[_0x1836f7(0x142)]=_0x307cbf;})['catch'](_0x513321=>{const _0x869899=_0x2b8829;console[_0x869899(0x132)](_0x869899(0x131),_0x513321),alert('Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.');});}function submitProfile(){const _0x33f140=a0_0x50a6,_0x2ebcaa=document[_0x33f140(0x13f)](_0x33f140(0x136)),_0x53041d=firebase[_0x33f140(0xfd)](),_0x5acb3f=firebase[_0x33f140(0x143)]();if(useDefaultImageFlag)useDefaultImage(_0x53041d,_0x5acb3f);else{const _0x1cae22=_0x2ebcaa['files'][0x0];console[_0x33f140(0x111)](usedDefaultImage);if(_0x1cae22){document[_0x33f140(0x13f)]('submitButton')[_0x33f140(0xf5)]='loading...';const _0x33d44b=new FileReader();_0x33d44b['onload']=function(_0x21004b){const _0x3b5431=_0x33f140,_0x27b5e9=new Image();_0x27b5e9[_0x3b5431(0x124)]=function(){const _0x26ae18=_0x3b5431;_0x27b5e9[_0x26ae18(0x129)]===_0x27b5e9[_0x26ae18(0x140)]?uploadProfilePicture(_0x1cae22,_0x53041d,_0x5acb3f):alert(_0x26ae18(0x118));},_0x27b5e9[_0x3b5431(0xf0)]=function(){const _0x1d0a12=_0x3b5431;alert(_0x1d0a12(0x147));},_0x27b5e9[_0x3b5431(0x142)]=_0x21004b[_0x3b5431(0x122)][_0x3b5431(0x121)];},_0x33d44b[_0x33f140(0xf0)]=function(){const _0x5645ba=_0x33f140;alert(_0x5645ba(0xf8));},_0x33d44b['readAsDataURL'](_0x1cae22);}else{if(usedDefaultImage){const _0x4f1404=_0x33f140(0x10b);fetch(_0x4f1404)[_0x33f140(0x10e)](_0x450c14=>_0x450c14[_0x33f140(0x12e)]())[_0x33f140(0x10e)](_0x56b228=>{const _0x580d03=_0x33f140,_0x1e5838=new File([_0x56b228],'default_user.jpeg',{'type':_0x580d03(0x115)});uploadProfilePicture(_0x1e5838,_0x53041d,_0x5acb3f);});}else alert(_0x33f140(0x100));}}}function updateUserProfile(_0x5db1ed,_0x19e39a,_0x5de6ab){const _0x449702=a0_0x50a6,_0x2b3a85=document['getElementById'](_0x449702(0x10f)),_0x63d331=document[_0x449702(0x13f)]('bio');if(_0x19e39a[_0x449702(0x11c)]){const _0x2182c8=_0x5de6ab[_0x449702(0xf3)](_0x449702(0x104))[_0x449702(0x130)](_0x19e39a[_0x449702(0x11c)]['uid']);document[_0x449702(0x13f)](_0x449702(0xf2))[_0x449702(0xf5)]=_0x449702(0x127),_0x2182c8[_0x449702(0xed)]({'name':_0x2b3a85[_0x449702(0x12d)],'bio':_0x63d331['value'],'profileIMG':_0x5db1ed})[_0x449702(0x10e)](()=>{const _0x3cbffb=_0x449702;console[_0x3cbffb(0x111)](_0x3cbffb(0x13a)),setTimeout(()=>{const _0x4c40df=_0x3cbffb;document[_0x4c40df(0x13f)](_0x4c40df(0xf2))[_0x4c40df(0xf5)]=_0x4c40df(0x112),window['location'][_0x4c40df(0x119)]='/index.html';},0x3e8);})[_0x449702(0x107)](_0x1d85dd=>{const _0x466495=_0x449702;alert(_0x466495(0x106)),console[_0x466495(0x132)](_0x466495(0x114),_0x1d85dd);});}else console['error']('User\x20is\x20not\x20authenticated'),alert('User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.');}function uploadProfilePicture(_0x39acf9,_0x18cae8,_0x1ac320){const _0x14e176=a0_0x50a6,_0x263189=firebase[_0x14e176(0x126)]()[_0x14e176(0x137)](),_0x1ce1fc=_0x39acf9['name'][_0x14e176(0x146)]('.')[_0x14e176(0x145)](),_0x51be3c=_0x18cae8[_0x14e176(0x11c)]['uid']+'.'+_0x1ce1fc,_0x25c889=_0x263189[_0x14e176(0x11d)](_0x14e176(0x109)+_0x51be3c);document[_0x14e176(0x13f)]('submitButton')['innerText']=_0x14e176(0x101),_0x25c889['put'](_0x39acf9)['then'](_0x29f357=>{const _0x79aeff=_0x14e176;return _0x29f357[_0x79aeff(0x137)][_0x79aeff(0x133)]();})[_0x14e176(0x10e)](_0x2d203f=>{return updateUserProfile(_0x2d203f,_0x18cae8,_0x1ac320);})[_0x14e176(0x107)](_0x2d157c=>{const _0x5f271b=_0x14e176;alert(_0x5f271b(0x13b)),console[_0x5f271b(0x132)]('Error\x20uploading\x20profile\x20picture:',_0x2d157c);});}function a0_0x50a6(_0x5a83d9,_0x29403f){const _0x56306f=a0_0x5630();return a0_0x50a6=function(_0x50a6a7,_0x4d0bfb){_0x50a6a7=_0x50a6a7-0xec;let _0x145d09=_0x56306f[_0x50a6a7];return _0x145d09;},a0_0x50a6(_0x5a83d9,_0x29403f);}document[a0_0x5e16c8(0x10a)](a0_0x5e16c8(0x13e),()=>{const _0x170bba=a0_0x5e16c8;let _0x5f0282=firebase[_0x170bba(0xfd)](),_0x350511=firebase['firestore']();const _0x4d991a=document['getElementById'](_0x170bba(0x10f)),_0x15fb19=document[_0x170bba(0x13f)]('edit-profile-userid'),_0x22a786=document['getElementById']('edit-profile-email'),_0xd7a078=document['getElementById']('submitButton'),_0x436568=document[_0x170bba(0x13f)](_0x170bba(0x10d));_0xd7a078[_0x170bba(0x10a)](_0x170bba(0x103),_0x45eca2=>{const _0x4ac09a=_0x170bba;_0x45eca2[_0x4ac09a(0x128)](),useDefaultImageFlag=![],submitProfile();}),_0x436568[_0x170bba(0x10a)](_0x170bba(0x103),()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],submitProfile();}),_0x5f0282[_0x170bba(0xfa)](function(_0x3c41cb){const _0x23fa2a=_0x170bba;if(_0x3c41cb){validateForm();const _0x3989e2=_0x350511[_0x23fa2a(0xf3)](_0x23fa2a(0x104))[_0x23fa2a(0x130)](_0x5f0282['currentUser'][_0x23fa2a(0x13d)]);_0x3989e2[_0x23fa2a(0x11b)]()[_0x23fa2a(0x10e)](_0x21f9c2=>{const _0x28bf5d=_0x23fa2a;if(_0x21f9c2['exists']){const _0x3539f3=_0x21f9c2[_0x28bf5d(0x12b)]();_0x4d991a[_0x28bf5d(0x12d)]=_0x3539f3['name'],_0x15fb19['value']=_0x3539f3[_0x28bf5d(0xee)],_0x22a786[_0x28bf5d(0x12d)]=_0x3539f3[_0x28bf5d(0x110)],document[_0x28bf5d(0x116)](_0x28bf5d(0xf7))[_0x28bf5d(0x142)]=_0x3539f3[_0x28bf5d(0xf1)];}});}else alert(_0x23fa2a(0xf4)),window[_0x23fa2a(0x11f)][_0x23fa2a(0x119)]=_0x23fa2a(0x12c);});});