const a0_0x57e6f3=a0_0xfb50;function a0_0x3cc9(){const _0x591ad7=['Error\x20updating\x20profile:','email','catch','files','then','storage','click','firestore','name','edit-profile-userid','11773424kCUjyy','onAuthStateChanged','error','Error\x20setting\x20default\x20picture:','collection','querySelector','Using\x20default\x20image!','edit-profile-full-name','width','src','saving...','uid','ref','blob','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','onerror','getElementById','User\x20is\x20not\x20authenticated','uploading...','change','image/jpeg','location','href','log','put','addEventListener','5QEATNZ','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','DOMContentLoaded','innerText','profile-picture-picker','readAsDataURL','There\x20was\x20an\x20error\x20reading\x20the\x20file.','Users','currentUser','bio','done!','Updated\x20profile\x20with\x20default\x20image','submitButton','2601690NPcHPM','get','value','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','https://placeholder.co/100x100','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','senderId','update','There\x20was\x20an\x20error\x20reading\x20the\x20image.','profileIMG','.jpeg','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','trim','innerHTML','height','default_user.jpeg','loading...','users_profilePic/','exists','doc','262942mGbeTv','They\x27re\x20still\x20thinking\x20of\x20a\x20bio...','5070252TOETkT','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','.profile-picture-picker-image','child','onload','getDownloadURL','pop','695732rUYRCw','set','result','edit-profile-email','target','679020lohDoJ','2413053xEVjON','auth'];a0_0x3cc9=function(){return _0x591ad7;};return a0_0x3cc9();}function a0_0xfb50(_0x38e9db,_0x1b0f96){const _0x3cc93f=a0_0x3cc9();return a0_0xfb50=function(_0xfb5072,_0x768842){_0xfb5072=_0xfb5072-0x196;let _0x3a2f17=_0x3cc93f[_0xfb5072];return _0x3a2f17;},a0_0xfb50(_0x38e9db,_0x1b0f96);}(function(_0x59ac04,_0x15c147){const _0x403f21=a0_0xfb50,_0x4f2553=_0x59ac04();while(!![]){try{const _0x434900=parseInt(_0x403f21(0x1dc))/0x1+parseInt(_0x403f21(0x1ea))/0x2+-parseInt(_0x403f21(0x1eb))/0x3+parseInt(_0x403f21(0x1e5))/0x4+-parseInt(_0x403f21(0x1bb))/0x5*(parseInt(_0x403f21(0x1de))/0x6)+parseInt(_0x403f21(0x1c8))/0x7+parseInt(_0x403f21(0x1a1))/0x8;if(_0x434900===_0x15c147)break;else _0x4f2553['push'](_0x4f2553['shift']());}catch(_0x4c57be){_0x4f2553['push'](_0x4f2553['shift']());}}}(a0_0x3cc9,0xece64));let db=firebase['firestore'](),auth=firebase[a0_0x57e6f3(0x196)](),useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x125a4d=a0_0x57e6f3;document['getElementById'](_0x125a4d(0x1bf))[_0x125a4d(0x1ba)](_0x125a4d(0x1b4),_0x46e9fe=>{const _0x11051e=_0x125a4d,_0x58e198=_0x46e9fe[_0x11051e(0x1e9)][_0x11051e(0x19a)][0x0],_0x449e01=new FileReader();_0x449e01[_0x11051e(0x1ba)]('load',_0x5551ec=>{const _0x3e5902=_0x11051e;document[_0x3e5902(0x1a6)](_0x3e5902(0x1e0))['src']=_0x5551ec[_0x3e5902(0x1e9)][_0x3e5902(0x1e7)];}),_0x58e198&&_0x449e01['readAsDataURL'](_0x58e198);});}function useDefaultImage(){const _0x58e550=a0_0x57e6f3,_0x44558c=firebase[_0x58e550(0x19c)]()['ref'](),_0x367822=firebase[_0x58e550(0x196)](),_0x355228=firebase['firestore'](),_0x6c87d='/assets/img/default_user.jpeg';fetch(_0x6c87d)[_0x58e550(0x19b)](_0x31e13b=>_0x31e13b[_0x58e550(0x1ae)]())[_0x58e550(0x19b)](_0x616c17=>{const _0x5bf6d1=_0x58e550,_0x6c90e0=_0x44558c[_0x5bf6d1(0x1e1)](_0x5bf6d1(0x1d9)+_0x367822[_0x5bf6d1(0x1c3)]['uid']+_0x5bf6d1(0x1d2));return _0x6c90e0['put'](_0x616c17);})[_0x58e550(0x19b)](_0x26a423=>_0x26a423[_0x58e550(0x1ad)][_0x58e550(0x1e3)]())[_0x58e550(0x19b)](_0x3d244f=>{const _0xb8adee=_0x58e550;return _0x355228[_0xb8adee(0x1a5)](_0xb8adee(0x1c2))[_0xb8adee(0x1db)](_0x367822[_0xb8adee(0x1c3)][_0xb8adee(0x1ac)])[_0xb8adee(0x1cf)]({'profileIMG':_0x3d244f});})[_0x58e550(0x19b)](()=>{const _0x10016c=_0x58e550;console[_0x10016c(0x1b8)](_0x10016c(0x1c6)),document[_0x10016c(0x1a6)](_0x10016c(0x1e0))[_0x10016c(0x1aa)]=_0x6c87d;})[_0x58e550(0x199)](_0x54b4f7=>{const _0x4ec7c0=_0x58e550;console[_0x4ec7c0(0x1a3)](_0x4ec7c0(0x1a4),_0x54b4f7),alert(_0x4ec7c0(0x1cb));});}function submitProfile(){const _0x2f0fbc=a0_0x57e6f3,_0xb4b956=document[_0x2f0fbc(0x1b1)](_0x2f0fbc(0x1bf)),_0x38463c=firebase[_0x2f0fbc(0x196)](),_0x3eed89=firebase['firestore']();if(useDefaultImageFlag)useDefaultImage(_0x38463c,_0x3eed89);else{const _0x3572b8=_0xb4b956[_0x2f0fbc(0x19a)][0x0];console[_0x2f0fbc(0x1b8)](usedDefaultImage);const _0x494ee0=_0x3eed89[_0x2f0fbc(0x1a5)](_0x2f0fbc(0x1c2))[_0x2f0fbc(0x1db)](_0x38463c['currentUser'][_0x2f0fbc(0x1ac)]);_0x494ee0[_0x2f0fbc(0x1c9)]()['then'](_0x36a8bc=>{const _0x415e3b=_0x2f0fbc;if(_0x36a8bc[_0x415e3b(0x1da)]){const _0x6de618=_0x36a8bc['data']();if(_0x3572b8){document[_0x415e3b(0x1b1)](_0x415e3b(0x1c7))['innerText']=_0x415e3b(0x1d8);const _0x2a7afb=new FileReader();_0x2a7afb[_0x415e3b(0x1e2)]=function(_0x51fac4){const _0x1730d3=_0x415e3b,_0x422336=new Image();_0x422336[_0x1730d3(0x1e2)]=function(){const _0x4b282b=_0x1730d3;_0x422336[_0x4b282b(0x1a9)]===_0x422336[_0x4b282b(0x1d6)]?uploadProfilePicture(_0x3572b8,_0x38463c,_0x3eed89):(alert('Please\x20upload\x20a\x20square\x20image.'),document[_0x4b282b(0x1b1)](_0x4b282b(0x1c7))[_0x4b282b(0x1d5)]=_0x4b282b(0x1df));},_0x422336[_0x1730d3(0x1b0)]=function(){const _0x2ee8d7=_0x1730d3;alert(_0x2ee8d7(0x1d0)),document[_0x2ee8d7(0x1b1)](_0x2ee8d7(0x1c7))['innerHTML']=_0x2ee8d7(0x1df);},_0x422336[_0x1730d3(0x1aa)]=_0x51fac4[_0x1730d3(0x1e9)]['result'];},_0x2a7afb['onerror']=function(){const _0x8e4e96=_0x415e3b;alert(_0x8e4e96(0x1c1)),document[_0x8e4e96(0x1b1)]('submitButton')['innerHTML']=_0x8e4e96(0x1df);},_0x2a7afb[_0x415e3b(0x1c0)](_0x3572b8);}else{if(_0x6de618[_0x415e3b(0x1d1)])updateUserProfile(_0x6de618[_0x415e3b(0x1d1)],_0x38463c,_0x3eed89);else{if(usedDefaultImage){const _0x479d4a='/assets/img/default_user.jpeg';fetch(_0x479d4a)[_0x415e3b(0x19b)](_0x90304f=>_0x90304f[_0x415e3b(0x1ae)]())[_0x415e3b(0x19b)](_0x1b923f=>{const _0x2e34fb=_0x415e3b,_0x1eabbc=new File([_0x1b923f],_0x2e34fb(0x1d7),{'type':_0x2e34fb(0x1b5)});uploadProfilePicture(_0x1eabbc,_0x38463c,_0x3eed89);});}else alert(_0x415e3b(0x1d3)),document[_0x415e3b(0x1b1)]('submitButton')[_0x415e3b(0x1d5)]=_0x415e3b(0x1df);}}}});}}function updateUserProfile(_0x5b637a,_0x2229f7,_0x215d83){const _0x4c168d=a0_0x57e6f3,_0x2a998b=document[_0x4c168d(0x1b1)](_0x4c168d(0x1a8)),_0x2ca763=document[_0x4c168d(0x1b1)](_0x4c168d(0x1c4));!_0x2ca763[_0x4c168d(0x1ca)][_0x4c168d(0x1d4)]()&&(_0x2ca763[_0x4c168d(0x1ca)]=_0x4c168d(0x1dd));if(_0x2229f7[_0x4c168d(0x1c3)]){const _0x228101=_0x215d83['collection'](_0x4c168d(0x1c2))['doc'](_0x2229f7[_0x4c168d(0x1c3)][_0x4c168d(0x1ac)]);document[_0x4c168d(0x1b1)]('submitButton')['innerText']=_0x4c168d(0x1ab),_0x228101['update']({'name':_0x2a998b[_0x4c168d(0x1ca)],'bio':_0x2ca763['value'],'profileIMG':_0x5b637a})[_0x4c168d(0x19b)](()=>{console['log']('Profile\x20updated\x20with\x20new\x20image'),setTimeout(()=>{const _0x1109f5=a0_0xfb50;document[_0x1109f5(0x1b1)](_0x1109f5(0x1c7))[_0x1109f5(0x1be)]=_0x1109f5(0x1c5),window[_0x1109f5(0x1b6)]['href']='/account.html?action=setupProfile';},0x3e8);})[_0x4c168d(0x199)](_0x1004d1=>{const _0x45db0a=_0x4c168d;alert(_0x45db0a(0x1bc)),console[_0x45db0a(0x1a3)](_0x45db0a(0x197),_0x1004d1);});}else console[_0x4c168d(0x1a3)](_0x4c168d(0x1b2)),alert(_0x4c168d(0x1af));}function uploadProfilePicture(_0x3404f3,_0xba5966,_0x29a134){const _0x299a95=a0_0x57e6f3,_0x59f89e=firebase[_0x299a95(0x19c)]()['ref'](),_0x113c73=_0x3404f3[_0x299a95(0x19f)]['split']('.')[_0x299a95(0x1e4)](),_0x56d6ef=_0xba5966[_0x299a95(0x1c3)][_0x299a95(0x1ac)]+'.'+_0x113c73,_0x59fea9=_0x59f89e[_0x299a95(0x1e1)](_0x299a95(0x1d9)+_0x56d6ef);document[_0x299a95(0x1b1)](_0x299a95(0x1c7))[_0x299a95(0x1be)]=_0x299a95(0x1b3),_0x59fea9[_0x299a95(0x1b9)](_0x3404f3)['then'](_0x280230=>{const _0x32c8a0=_0x299a95;return _0x280230[_0x32c8a0(0x1ad)][_0x32c8a0(0x1e3)]();})[_0x299a95(0x19b)](_0x52f284=>{return updateUserProfile(_0x52f284,_0xba5966,_0x29a134);})[_0x299a95(0x199)](_0xca57ac=>{const _0x42a839=_0x299a95;alert('Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.'),console[_0x42a839(0x1a3)]('Error\x20uploading\x20profile\x20picture:',_0xca57ac);});}document[a0_0x57e6f3(0x1ba)](a0_0x57e6f3(0x1bd),()=>{const _0x2ed3b9=a0_0x57e6f3;let _0x1b6d10=firebase[_0x2ed3b9(0x196)](),_0x8acecf=firebase[_0x2ed3b9(0x19e)]();const _0x237b6b=document[_0x2ed3b9(0x1b1)]('edit-profile-full-name'),_0x33f48e=document[_0x2ed3b9(0x1b1)](_0x2ed3b9(0x1a0)),_0x316837=document[_0x2ed3b9(0x1b1)](_0x2ed3b9(0x1e8)),_0x373715=document['getElementById'](_0x2ed3b9(0x1c4)),_0x2e798a=document[_0x2ed3b9(0x1b1)]('submitButton'),_0x553260=document[_0x2ed3b9(0x1b1)]('use-default-image');_0x2e798a[_0x2ed3b9(0x1ba)](_0x2ed3b9(0x19d),_0x15c1d9=>{_0x15c1d9['preventDefault'](),useDefaultImageFlag=![],submitProfile();}),_0x553260[_0x2ed3b9(0x1ba)]('click',()=>{const _0x27bb2d=_0x2ed3b9;useDefaultImageFlag=!![],usedDefaultImage=!![],alert(_0x27bb2d(0x1a7)),submitProfile();}),_0x1b6d10[_0x2ed3b9(0x1a2)](function(_0x35e860){const _0x281e4c=_0x2ed3b9;if(_0x35e860){validateForm();const _0x2c264e=_0x8acecf[_0x281e4c(0x1a5)](_0x281e4c(0x1c2))[_0x281e4c(0x1db)](_0x35e860[_0x281e4c(0x1ac)]),_0x41804d=new Date();_0x2c264e[_0x281e4c(0x1e6)]({'lastActive':_0x41804d},{'merge':!![]});const _0x58259d=_0x8acecf[_0x281e4c(0x1a5)](_0x281e4c(0x1c2))['doc'](_0x1b6d10[_0x281e4c(0x1c3)][_0x281e4c(0x1ac)]);_0x58259d['get']()[_0x281e4c(0x19b)](_0x5115eb=>{const _0x46ab15=_0x281e4c;if(_0x5115eb[_0x46ab15(0x1da)]){const _0x341c82=_0x5115eb['data']();_0x237b6b[_0x46ab15(0x1ca)]=_0x341c82[_0x46ab15(0x19f)],_0x33f48e[_0x46ab15(0x1ca)]=_0x341c82[_0x46ab15(0x1ce)],_0x316837[_0x46ab15(0x1ca)]=_0x341c82[_0x46ab15(0x198)],bio[_0x46ab15(0x1ca)]&&(bio[_0x46ab15(0x1ca)]=_0x341c82[_0x46ab15(0x1c4)]),console[_0x46ab15(0x1b8)](_0x341c82[_0x46ab15(0x1d1)]),document[_0x46ab15(0x1a6)](_0x46ab15(0x1e0))[_0x46ab15(0x1aa)]=_0x341c82[_0x46ab15(0x1d1)]==''?_0x46ab15(0x1cc):_0x341c82[_0x46ab15(0x1d1)];}});}else alert(_0x281e4c(0x1cd)),window[_0x281e4c(0x1b6)][_0x281e4c(0x1b7)]='/signin.html';});});