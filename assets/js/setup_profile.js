const a0_0x3991f1=a0_0x10ba;(function(_0x3ba99c,_0x18a16d){const _0x479df9=a0_0x10ba,_0x26a490=_0x3ba99c();while(!![]){try{const _0x15b1de=parseInt(_0x479df9(0x157))/0x1+parseInt(_0x479df9(0x147))/0x2*(-parseInt(_0x479df9(0x165))/0x3)+-parseInt(_0x479df9(0x160))/0x4*(parseInt(_0x479df9(0x156))/0x5)+-parseInt(_0x479df9(0x16b))/0x6+parseInt(_0x479df9(0x178))/0x7*(parseInt(_0x479df9(0x173))/0x8)+-parseInt(_0x479df9(0x174))/0x9+parseInt(_0x479df9(0x130))/0xa;if(_0x15b1de===_0x18a16d)break;else _0x26a490['push'](_0x26a490['shift']());}catch(_0x317d0a){_0x26a490['push'](_0x26a490['shift']());}}}(a0_0x4a13,0xe7649));let db=firebase['firestore'](),auth=firebase[a0_0x3991f1(0x169)](),useDefaultImageFlag=![],usedDefaultImage=![];function a0_0x10ba(_0x57002c,_0x9b8164){const _0x4a13f9=a0_0x4a13();return a0_0x10ba=function(_0x10bac0,_0x4c1750){_0x10bac0=_0x10bac0-0x12c;let _0x31f60d=_0x4a13f9[_0x10bac0];return _0x31f60d;},a0_0x10ba(_0x57002c,_0x9b8164);}function validateForm(){const _0x13451d=a0_0x3991f1;document[_0x13451d(0x15f)](_0x13451d(0x132))[_0x13451d(0x14f)]('change',_0xbacaff=>{const _0x591315=_0x13451d,_0x4c8511=_0xbacaff[_0x591315(0x163)][_0x591315(0x15c)][0x0],_0x4d5a93=new FileReader();_0x4d5a93[_0x591315(0x14f)](_0x591315(0x139),_0x410d2f=>{const _0x327ea3=_0x591315;document[_0x327ea3(0x145)](_0x327ea3(0x150))[_0x327ea3(0x13f)]=_0x410d2f[_0x327ea3(0x163)][_0x327ea3(0x137)];}),_0x4c8511&&_0x4d5a93[_0x591315(0x131)](_0x4c8511);});}function useDefaultImage(){const _0x4581d3=a0_0x3991f1,_0xee0632=firebase[_0x4581d3(0x172)]()[_0x4581d3(0x138)](),_0x22a5a7=firebase[_0x4581d3(0x169)](),_0x19a5ed=firebase[_0x4581d3(0x153)](),_0x114f8a='/assets/img/default_user.jpeg';fetch(_0x114f8a)[_0x4581d3(0x144)](_0x4cd1ad=>_0x4cd1ad[_0x4581d3(0x134)]())[_0x4581d3(0x144)](_0x4430af=>{const _0x1f4e46=_0x4581d3,_0x3d5eda=_0xee0632['child']('users_profilePic/'+_0x22a5a7[_0x1f4e46(0x14a)][_0x1f4e46(0x12e)]+_0x1f4e46(0x155));return _0x3d5eda[_0x1f4e46(0x171)](_0x4430af);})['then'](_0x260ad0=>_0x260ad0['ref']['getDownloadURL']())[_0x4581d3(0x144)](_0x4c4f6c=>{const _0x4bf0cc=_0x4581d3;return _0x19a5ed[_0x4bf0cc(0x14b)](_0x4bf0cc(0x13b))[_0x4bf0cc(0x12c)](_0x22a5a7[_0x4bf0cc(0x14a)][_0x4bf0cc(0x12e)])[_0x4bf0cc(0x12d)]({'profileIMG':_0x4c4f6c});})[_0x4581d3(0x144)](()=>{const _0x26232b=_0x4581d3;console['log'](_0x26232b(0x14d)),document['querySelector'](_0x26232b(0x150))['src']=_0x114f8a;})[_0x4581d3(0x17d)](_0x310843=>{const _0x160856=_0x4581d3;console['error'](_0x160856(0x151),_0x310843),alert(_0x160856(0x168));});}function submitProfile(){const _0x2bce2d=a0_0x3991f1,_0xbbda94=document[_0x2bce2d(0x15f)](_0x2bce2d(0x132)),_0x2d277b=firebase[_0x2bce2d(0x169)](),_0x4007bb=firebase[_0x2bce2d(0x153)]();if(useDefaultImageFlag)useDefaultImage(_0x2d277b,_0x4007bb);else{const _0x3ef742=_0xbbda94['files'][0x0];console[_0x2bce2d(0x16f)](usedDefaultImage);const _0x22e94d=_0x4007bb['collection'](_0x2bce2d(0x13b))[_0x2bce2d(0x12c)](_0x2d277b[_0x2bce2d(0x14a)][_0x2bce2d(0x12e)]);_0x22e94d[_0x2bce2d(0x149)]()['then'](_0x12bf53=>{const _0x1a3fc6=_0x2bce2d;if(_0x12bf53[_0x1a3fc6(0x180)]){const _0x541e58=_0x12bf53[_0x1a3fc6(0x154)]();if(_0x3ef742){document['getElementById'](_0x1a3fc6(0x179))[_0x1a3fc6(0x148)]='loading...';const _0x2f1463=new FileReader();_0x2f1463[_0x1a3fc6(0x16d)]=function(_0x546b7d){const _0x4bc561=_0x1a3fc6,_0x4011bd=new Image();_0x4011bd[_0x4bc561(0x16d)]=function(){const _0x36a5c3=_0x4bc561;_0x4011bd['width']===_0x4011bd[_0x36a5c3(0x12f)]?uploadProfilePicture(_0x3ef742,_0x2d277b,_0x4007bb):(alert(_0x36a5c3(0x159)),document['getElementById'](_0x36a5c3(0x179))[_0x36a5c3(0x152)]=_0x36a5c3(0x16a));},_0x4011bd[_0x4bc561(0x15b)]=function(){const _0x2637a6=_0x4bc561;alert('There\x20was\x20an\x20error\x20reading\x20the\x20image.'),document[_0x2637a6(0x15f)](_0x2637a6(0x179))[_0x2637a6(0x152)]=_0x2637a6(0x16a);},_0x4011bd[_0x4bc561(0x13f)]=_0x546b7d['target']['result'];},_0x2f1463[_0x1a3fc6(0x15b)]=function(){const _0x19435d=_0x1a3fc6;alert(_0x19435d(0x17b)),document[_0x19435d(0x15f)](_0x19435d(0x179))[_0x19435d(0x152)]=_0x19435d(0x16a);},_0x2f1463[_0x1a3fc6(0x131)](_0x3ef742);}else{if(_0x541e58['profileIMG'])updateUserProfile(_0x541e58[_0x1a3fc6(0x166)],_0x2d277b,_0x4007bb);else{if(usedDefaultImage){const _0x1d4666='/assets/img/default_user.jpeg';fetch(_0x1d4666)[_0x1a3fc6(0x144)](_0x498669=>_0x498669[_0x1a3fc6(0x134)]())[_0x1a3fc6(0x144)](_0x217739=>{const _0x3fcbcb=_0x1a3fc6,_0x2fd623=new File([_0x217739],_0x3fcbcb(0x135),{'type':_0x3fcbcb(0x17c)});uploadProfilePicture(_0x2fd623,_0x2d277b,_0x4007bb);});}else alert(_0x1a3fc6(0x13a)),document[_0x1a3fc6(0x15f)](_0x1a3fc6(0x179))[_0x1a3fc6(0x152)]='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';}}}});}}function updateUserProfile(_0x3455dc,_0x124e33,_0x373860){const _0x3370c8=a0_0x3991f1,_0x483da3=document['getElementById'](_0x3370c8(0x141)),_0x1af6a8=document[_0x3370c8(0x15f)]('bio');!_0x1af6a8[_0x3370c8(0x177)][_0x3370c8(0x176)]()&&(_0x1af6a8['value']=_0x3370c8(0x15d));if(_0x124e33['currentUser']){const _0x3c610f=_0x373860[_0x3370c8(0x14b)](_0x3370c8(0x13b))['doc'](_0x124e33['currentUser'][_0x3370c8(0x12e)]);document[_0x3370c8(0x15f)]('submitButton')[_0x3370c8(0x148)]='saving...',_0x3c610f[_0x3370c8(0x12d)]({'name':_0x483da3[_0x3370c8(0x177)],'bio':_0x1af6a8[_0x3370c8(0x177)],'profileIMG':_0x3455dc})[_0x3370c8(0x144)](()=>{const _0x461b0e=_0x3370c8;console[_0x461b0e(0x16f)]('Profile\x20updated\x20with\x20new\x20image'),setTimeout(()=>{const _0x5cf7e5=_0x461b0e;document['getElementById'](_0x5cf7e5(0x179))[_0x5cf7e5(0x148)]=_0x5cf7e5(0x170),window[_0x5cf7e5(0x181)][_0x5cf7e5(0x13e)]=_0x5cf7e5(0x146);},0x3e8);})[_0x3370c8(0x17d)](_0x58c398=>{const _0x175980=_0x3370c8;alert(_0x175980(0x16c)),console[_0x175980(0x16e)](_0x175980(0x158),_0x58c398);});}else console[_0x3370c8(0x16e)](_0x3370c8(0x136)),alert('User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.');}function a0_0x4a13(){const _0x2065d8=['image/jpeg','catch','bio','edit-profile-userid','exists','location','doc','update','uid','height','28141180JVUqqu','readAsDataURL','profile-picture-picker','onAuthStateChanged','blob','default_user.jpeg','User\x20is\x20not\x20authenticated','result','ref','load','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','Users','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','use-default-image','href','src','DOMContentLoaded','edit-profile-full-name','split','users_profilePic/','then','querySelector','/account.html?action=setupProfile','340sLziSi','innerText','get','currentUser','collection','uploading...','Updated\x20profile\x20with\x20default\x20image','edit-profile-email','addEventListener','.profile-picture-picker-image','Error\x20setting\x20default\x20picture:','innerHTML','firestore','data','.jpeg','5bAaVas','1289750eJOGSX','Error\x20updating\x20profile:','Please\x20upload\x20a\x20square\x20image.','pop','onerror','files','They\x27re\x20still\x20thinking\x20of\x20a\x20bio...','child','getElementById','6591952ZpbUab','https://placeholder.co/100x100','set','target','preventDefault','3987IuJjXq','profileIMG','click','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','auth','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','8005020GiOHFg','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','onload','error','log','done!','put','storage','527752wKTqfp','9031491nSMRCe','email','trim','value','112JoVqlR','submitButton','name','There\x20was\x20an\x20error\x20reading\x20the\x20file.'];a0_0x4a13=function(){return _0x2065d8;};return a0_0x4a13();}function uploadProfilePicture(_0xbfa035,_0x13aca8,_0x2b4552){const _0x5b7578=a0_0x3991f1,_0x34a5af=firebase[_0x5b7578(0x172)]()[_0x5b7578(0x138)](),_0x532d1d=_0xbfa035[_0x5b7578(0x17a)][_0x5b7578(0x142)]('.')[_0x5b7578(0x15a)](),_0x124ab2=_0x13aca8[_0x5b7578(0x14a)][_0x5b7578(0x12e)]+'.'+_0x532d1d,_0x2bc39f=_0x34a5af[_0x5b7578(0x15e)](_0x5b7578(0x143)+_0x124ab2);document[_0x5b7578(0x15f)](_0x5b7578(0x179))[_0x5b7578(0x148)]=_0x5b7578(0x14c),_0x2bc39f['put'](_0xbfa035)[_0x5b7578(0x144)](_0x43089a=>{return _0x43089a['ref']['getDownloadURL']();})[_0x5b7578(0x144)](_0x36c013=>{return updateUserProfile(_0x36c013,_0x13aca8,_0x2b4552);})[_0x5b7578(0x17d)](_0x2bf4c1=>{const _0x17dee6=_0x5b7578;alert(_0x17dee6(0x13c)),console[_0x17dee6(0x16e)]('Error\x20uploading\x20profile\x20picture:',_0x2bf4c1);});}document['addEventListener'](a0_0x3991f1(0x140),()=>{const _0xbb6887=a0_0x3991f1;let _0x53d70e=firebase[_0xbb6887(0x169)](),_0x339528=firebase[_0xbb6887(0x153)]();const _0x59371a=document[_0xbb6887(0x15f)](_0xbb6887(0x141)),_0x5d553b=document['getElementById'](_0xbb6887(0x17f)),_0x358055=document[_0xbb6887(0x15f)](_0xbb6887(0x14e)),_0x4a1387=document[_0xbb6887(0x15f)]('bio'),_0x442d6f=document[_0xbb6887(0x15f)](_0xbb6887(0x179)),_0x2c2082=document[_0xbb6887(0x15f)](_0xbb6887(0x13d));_0x442d6f[_0xbb6887(0x14f)](_0xbb6887(0x167),_0x5af624=>{const _0x37833b=_0xbb6887;_0x5af624[_0x37833b(0x164)](),useDefaultImageFlag=![],submitProfile();}),_0x2c2082[_0xbb6887(0x14f)](_0xbb6887(0x167),()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],alert('Using\x20default\x20image!'),submitProfile();}),_0x53d70e[_0xbb6887(0x133)](function(_0x245e16){const _0x277ae=_0xbb6887;if(_0x245e16){validateForm();const _0x21334a=_0x339528[_0x277ae(0x14b)](_0x277ae(0x13b))[_0x277ae(0x12c)](_0x245e16['uid']),_0x2bdee6=new Date();_0x21334a[_0x277ae(0x162)]({'lastActive':_0x2bdee6},{'merge':!![]});const _0x1528f5=_0x339528['collection'](_0x277ae(0x13b))['doc'](_0x53d70e[_0x277ae(0x14a)][_0x277ae(0x12e)]);_0x1528f5[_0x277ae(0x149)]()['then'](_0x50d5b6=>{const _0x5e78af=_0x277ae;if(_0x50d5b6[_0x5e78af(0x180)]){const _0x7af37c=_0x50d5b6[_0x5e78af(0x154)]();_0x59371a[_0x5e78af(0x177)]=_0x7af37c[_0x5e78af(0x17a)],_0x5d553b[_0x5e78af(0x177)]=_0x7af37c['senderId'],_0x358055[_0x5e78af(0x177)]=_0x7af37c[_0x5e78af(0x175)],bio['value']&&(bio[_0x5e78af(0x177)]=_0x7af37c[_0x5e78af(0x17e)]),console[_0x5e78af(0x16f)](_0x7af37c[_0x5e78af(0x166)]),document[_0x5e78af(0x145)](_0x5e78af(0x150))[_0x5e78af(0x13f)]=_0x7af37c[_0x5e78af(0x166)]==''?_0x5e78af(0x161):_0x7af37c[_0x5e78af(0x166)];}});}else alert('Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.'),window[_0x277ae(0x181)][_0x277ae(0x13e)]='/signin.html';});});