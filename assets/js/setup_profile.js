const a0_0x26fe91=a0_0x1589;(function(_0x2d7efd,_0x1a374a){const _0x32f920=a0_0x1589,_0x3f6c4b=_0x2d7efd();while(!![]){try{const _0x185e78=-parseInt(_0x32f920(0xbe))/0x1+-parseInt(_0x32f920(0xc2))/0x2*(-parseInt(_0x32f920(0xea))/0x3)+parseInt(_0x32f920(0xef))/0x4+parseInt(_0x32f920(0xb7))/0x5*(-parseInt(_0x32f920(0xdd))/0x6)+-parseInt(_0x32f920(0x9b))/0x7*(-parseInt(_0x32f920(0xb9))/0x8)+parseInt(_0x32f920(0xa3))/0x9+-parseInt(_0x32f920(0xcc))/0xa;if(_0x185e78===_0x1a374a)break;else _0x3f6c4b['push'](_0x3f6c4b['shift']());}catch(_0x211991){_0x3f6c4b['push'](_0x3f6c4b['shift']());}}}(a0_0x4ccc,0x9c6a4));let db=firebase[a0_0x26fe91(0x9e)](),auth=firebase['auth'](),useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x10cedb=a0_0x26fe91;document[_0x10cedb(0x9f)]('profile-picture-picker')[_0x10cedb(0xd7)](_0x10cedb(0xed),_0x24a0fe=>{const _0xdac9fd=_0x10cedb,_0x3e6779=_0x24a0fe[_0xdac9fd(0xb0)]['files'][0x0],_0x4cde57=new FileReader();_0x4cde57[_0xdac9fd(0xd7)](_0xdac9fd(0xee),_0x3ab45b=>{const _0x2e2f51=_0xdac9fd;document['querySelector'](_0x2e2f51(0xaf))[_0x2e2f51(0xc4)]=_0x3ab45b['target']['result'];}),_0x3e6779&&_0x4cde57[_0xdac9fd(0xe6)](_0x3e6779);});}function useDefaultImage(){const _0x49d209=a0_0x26fe91,_0x4795a9=firebase[_0x49d209(0xd9)]()[_0x49d209(0xba)](),_0x45e87e=firebase[_0x49d209(0xae)](),_0x18ee9f=firebase['firestore'](),_0x22426d='/assets/img/default_user.jpeg';fetch(_0x22426d)[_0x49d209(0xc9)](_0x203e56=>_0x203e56[_0x49d209(0xca)]())[_0x49d209(0xc9)](_0x109d48=>{const _0x3d8d01=_0x49d209,_0x1afd9e=_0x4795a9[_0x3d8d01(0xb3)](_0x3d8d01(0xb6)+_0x45e87e[_0x3d8d01(0xa4)][_0x3d8d01(0xcd)]+'.jpeg');return _0x1afd9e[_0x3d8d01(0xe5)](_0x109d48);})[_0x49d209(0xc9)](_0x2d89f2=>_0x2d89f2[_0x49d209(0xba)]['getDownloadURL']())[_0x49d209(0xc9)](_0x3ec3db=>{const _0x47fd4b=_0x49d209;return _0x18ee9f[_0x47fd4b(0xbb)](_0x47fd4b(0xda))[_0x47fd4b(0xbf)](_0x45e87e['currentUser']['uid'])[_0x47fd4b(0xc8)]({'profileIMG':_0x3ec3db});})['then'](()=>{const _0x398084=_0x49d209;console[_0x398084(0xaa)](_0x398084(0xce)),document[_0x398084(0xb5)](_0x398084(0xaf))[_0x398084(0xc4)]=_0x22426d;})[_0x49d209(0xde)](_0x97462d=>{const _0x1c2cb6=_0x49d209;console[_0x1c2cb6(0xd6)](_0x1c2cb6(0xa8),_0x97462d),alert(_0x1c2cb6(0xe9));});}function submitProfile(){const _0x39f6c6=a0_0x26fe91,_0xffb435=document['getElementById'](_0x39f6c6(0xf2)),_0x31fa65=firebase['auth'](),_0x8cbff1=firebase[_0x39f6c6(0x9e)]();if(useDefaultImageFlag)useDefaultImage(_0x31fa65,_0x8cbff1);else{const _0x464a10=_0xffb435['files'][0x0];console['log'](usedDefaultImage);const _0x2a88bf=_0x8cbff1[_0x39f6c6(0xbb)](_0x39f6c6(0xda))['doc'](_0x31fa65[_0x39f6c6(0xa4)]['uid']);_0x2a88bf[_0x39f6c6(0xe2)]()[_0x39f6c6(0xc9)](_0x578c9e=>{const _0x59af45=_0x39f6c6;if(_0x578c9e[_0x59af45(0xd8)]){const _0x344e45=_0x578c9e[_0x59af45(0xb1)]();if(_0x464a10){document[_0x59af45(0x9f)](_0x59af45(0xdc))[_0x59af45(0xe3)]=_0x59af45(0xe7);const _0x28f881=new FileReader();_0x28f881[_0x59af45(0xd3)]=function(_0x3d2071){const _0x50abce=_0x59af45,_0x2a0f4e=new Image();_0x2a0f4e[_0x50abce(0xd3)]=function(){const _0x1a716f=_0x50abce;_0x2a0f4e[_0x1a716f(0xdf)]===_0x2a0f4e[_0x1a716f(0xe8)]?uploadProfilePicture(_0x464a10,_0x31fa65,_0x8cbff1):(alert('Please\x20upload\x20a\x20square\x20image.'),document[_0x1a716f(0x9f)](_0x1a716f(0xdc))[_0x1a716f(0xc1)]=_0x1a716f(0xb8));},_0x2a0f4e[_0x50abce(0xf1)]=function(){const _0x13cc4c=_0x50abce;alert(_0x13cc4c(0xa0)),document[_0x13cc4c(0x9f)](_0x13cc4c(0xdc))[_0x13cc4c(0xc1)]=_0x13cc4c(0xb8);},_0x2a0f4e[_0x50abce(0xc4)]=_0x3d2071[_0x50abce(0xb0)][_0x50abce(0xa6)];},_0x28f881[_0x59af45(0xf1)]=function(){const _0x467829=_0x59af45;alert(_0x467829(0xec)),document[_0x467829(0x9f)](_0x467829(0xdc))[_0x467829(0xc1)]='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';},_0x28f881['readAsDataURL'](_0x464a10);}else{if(_0x344e45[_0x59af45(0xd2)])updateUserProfile(_0x344e45['profileIMG'],_0x31fa65,_0x8cbff1);else{if(usedDefaultImage){const _0x516788='/assets/img/default_user.jpeg';fetch(_0x516788)[_0x59af45(0xc9)](_0x2e90a0=>_0x2e90a0[_0x59af45(0xca)]())['then'](_0xc1d882=>{const _0x3da28f=new File([_0xc1d882],'default_user.jpeg',{'type':'image/jpeg'});uploadProfilePicture(_0x3da28f,_0x31fa65,_0x8cbff1);});}else alert(_0x59af45(0xdb)),document[_0x59af45(0x9f)](_0x59af45(0xdc))['innerHTML']='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';}}}});}}function a0_0x1589(_0x1ce451,_0x310570){const _0x4ccc2c=a0_0x4ccc();return a0_0x1589=function(_0x1589ba,_0x3721c6){_0x1589ba=_0x1589ba-0x9b;let _0xafac9b=_0x4ccc2c[_0x1589ba];return _0xafac9b;},a0_0x1589(_0x1ce451,_0x310570);}function updateUserProfile(_0xb7d0fd,_0x2e429e,_0x14f0c1){const _0x8c14ac=a0_0x26fe91,_0xda3c4f=document[_0x8c14ac(0x9f)](_0x8c14ac(0xa5)),_0x5dbcbf=document[_0x8c14ac(0x9f)](_0x8c14ac(0x9d));!_0x5dbcbf['value'][_0x8c14ac(0xb2)]()&&(_0x5dbcbf[_0x8c14ac(0xa7)]='They\x27re\x20still\x20thinking\x20of\x20a\x20bio...');if(_0x2e429e[_0x8c14ac(0xa4)]){const _0x50abff=_0x14f0c1['collection']('Users')['doc'](_0x2e429e[_0x8c14ac(0xa4)][_0x8c14ac(0xcd)]);document[_0x8c14ac(0x9f)](_0x8c14ac(0xdc))['innerText']=_0x8c14ac(0xcf),_0x50abff[_0x8c14ac(0xc8)]({'name':_0xda3c4f[_0x8c14ac(0xa7)],'bio':_0x5dbcbf[_0x8c14ac(0xa7)],'profileIMG':_0xb7d0fd})['then'](()=>{const _0x4a4c01=_0x8c14ac;console['log'](_0x4a4c01(0xbd)),setTimeout(()=>{const _0x3a01fe=_0x4a4c01;document['getElementById'](_0x3a01fe(0xdc))['innerText']=_0x3a01fe(0xa2),window[_0x3a01fe(0xac)][_0x3a01fe(0xa9)]=_0x3a01fe(0xe0);},0x3e8);})[_0x8c14ac(0xde)](_0x513516=>{const _0xba532a=_0x8c14ac;alert('Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.'),console['error'](_0xba532a(0xf0),_0x513516);});}else console[_0x8c14ac(0xd6)](_0x8c14ac(0xeb)),alert(_0x8c14ac(0xb4));}function a0_0x4ccc(){const _0x4506d9=['Users','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','submitButton','6yAHSig','catch','width','/account.html?action=setupProfile','/signin.html','get','innerText','onAuthStateChanged','put','readAsDataURL','loading...','height','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','2386731RObaDk','User\x20is\x20not\x20authenticated','There\x20was\x20an\x20error\x20reading\x20the\x20file.','change','load','4430012uQKmGZ','Error\x20updating\x20profile:','onerror','profile-picture-picker','pop','5600966LTzgNP','use-default-image','bio','firestore','getElementById','There\x20was\x20an\x20error\x20reading\x20the\x20image.','DOMContentLoaded','done!','8965710yzPikm','currentUser','edit-profile-full-name','result','value','Error\x20setting\x20default\x20picture:','href','log','preventDefault','location','edit-profile-email','auth','.profile-picture-picker-image','target','data','trim','child','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','querySelector','users_profilePic/','372965EveAwt','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','8coEngH','ref','collection','getDownloadURL','Profile\x20updated\x20with\x20new\x20image','815507wCoyQg','doc','Error\x20uploading\x20profile\x20picture:','innerHTML','2ozoAsA','click','src','split','email','senderId','update','then','blob','set','21686320RsLXZv','uid','Updated\x20profile\x20with\x20default\x20image','saving...','name','https://placeholder.co/100x100','profileIMG','onload','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','edit-profile-userid','error','addEventListener','exists','storage'];a0_0x4ccc=function(){return _0x4506d9;};return a0_0x4ccc();}function uploadProfilePicture(_0x11e965,_0x5b24cd,_0x17b0d4){const _0x58f05e=a0_0x26fe91,_0x2f69d4=firebase[_0x58f05e(0xd9)]()['ref'](),_0x26fb01=_0x11e965[_0x58f05e(0xd0)][_0x58f05e(0xc5)]('.')[_0x58f05e(0xf3)](),_0x46a8e6=_0x5b24cd['currentUser'][_0x58f05e(0xcd)]+'.'+_0x26fb01,_0x555aa1=_0x2f69d4[_0x58f05e(0xb3)](_0x58f05e(0xb6)+_0x46a8e6);document['getElementById'](_0x58f05e(0xdc))[_0x58f05e(0xe3)]='uploading...',_0x555aa1[_0x58f05e(0xe5)](_0x11e965)[_0x58f05e(0xc9)](_0x2b12c7=>{const _0x5a400f=_0x58f05e;return _0x2b12c7['ref'][_0x5a400f(0xbc)]();})[_0x58f05e(0xc9)](_0x2ebe46=>{return updateUserProfile(_0x2ebe46,_0x5b24cd,_0x17b0d4);})[_0x58f05e(0xde)](_0x5d649c=>{const _0x5a47e2=_0x58f05e;alert('Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.'),console[_0x5a47e2(0xd6)](_0x5a47e2(0xc0),_0x5d649c);});}document['addEventListener'](a0_0x26fe91(0xa1),()=>{const _0x392a98=a0_0x26fe91;let _0x218519=firebase['auth'](),_0xd09fbe=firebase[_0x392a98(0x9e)]();const _0x30349e=document[_0x392a98(0x9f)](_0x392a98(0xa5)),_0x37e72c=document[_0x392a98(0x9f)](_0x392a98(0xd5)),_0x2026c3=document[_0x392a98(0x9f)](_0x392a98(0xad)),_0x1f40a6=document[_0x392a98(0x9f)]('bio'),_0x382a50=document[_0x392a98(0x9f)]('submitButton'),_0x49c09b=document[_0x392a98(0x9f)](_0x392a98(0x9c));_0x382a50[_0x392a98(0xd7)](_0x392a98(0xc3),_0x299c48=>{const _0x1e53a9=_0x392a98;_0x299c48[_0x1e53a9(0xab)](),useDefaultImageFlag=![],submitProfile();}),_0x49c09b[_0x392a98(0xd7)](_0x392a98(0xc3),()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],alert('Using\x20default\x20image!'),submitProfile();}),_0x218519[_0x392a98(0xe4)](function(_0x1a9d31){const _0x143822=_0x392a98;if(_0x1a9d31){validateForm();const _0x5415d2=_0xd09fbe[_0x143822(0xbb)](_0x143822(0xda))[_0x143822(0xbf)](_0x1a9d31[_0x143822(0xcd)]),_0x2d83b8=new Date();_0x5415d2[_0x143822(0xcb)]({'lastActive':_0x2d83b8},{'merge':!![]});const _0x3915af=_0xd09fbe['collection'](_0x143822(0xda))[_0x143822(0xbf)](_0x218519[_0x143822(0xa4)][_0x143822(0xcd)]);_0x3915af['get']()[_0x143822(0xc9)](_0x25ee74=>{const _0x3e9c48=_0x143822;if(_0x25ee74[_0x3e9c48(0xd8)]){const _0x324d91=_0x25ee74[_0x3e9c48(0xb1)]();_0x30349e[_0x3e9c48(0xa7)]=_0x324d91[_0x3e9c48(0xd0)],_0x37e72c[_0x3e9c48(0xa7)]=_0x324d91[_0x3e9c48(0xc7)],_0x2026c3['value']=_0x324d91[_0x3e9c48(0xc6)],bio[_0x3e9c48(0xa7)]&&(bio[_0x3e9c48(0xa7)]=_0x324d91[_0x3e9c48(0x9d)]),console[_0x3e9c48(0xaa)](_0x324d91['profileIMG']),document[_0x3e9c48(0xb5)](_0x3e9c48(0xaf))[_0x3e9c48(0xc4)]=_0x324d91[_0x3e9c48(0xd2)]==''?_0x3e9c48(0xd1):_0x324d91[_0x3e9c48(0xd2)];}});}else alert(_0x143822(0xd4)),window[_0x143822(0xac)][_0x143822(0xa9)]=_0x143822(0xe1);});});