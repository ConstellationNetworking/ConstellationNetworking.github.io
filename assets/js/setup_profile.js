const a0_0x2546d4=a0_0x42d7;function a0_0x42d7(_0x14defd,_0x36a43){const _0x3c0ebb=a0_0x3c0e();return a0_0x42d7=function(_0x42d7ce,_0xe92792){_0x42d7ce=_0x42d7ce-0x1cf;let _0x1b1a5d=_0x3c0ebb[_0x42d7ce];return _0x1b1a5d;},a0_0x42d7(_0x14defd,_0x36a43);}(function(_0xb34449,_0x598b99){const _0x5e9219=a0_0x42d7,_0x2d3076=_0xb34449();while(!![]){try{const _0x33f246=-parseInt(_0x5e9219(0x21f))/0x1+-parseInt(_0x5e9219(0x1f9))/0x2+parseInt(_0x5e9219(0x1e5))/0x3*(-parseInt(_0x5e9219(0x208))/0x4)+parseInt(_0x5e9219(0x1f1))/0x5+-parseInt(_0x5e9219(0x20d))/0x6+parseInt(_0x5e9219(0x214))/0x7*(parseInt(_0x5e9219(0x20e))/0x8)+parseInt(_0x5e9219(0x202))/0x9;if(_0x33f246===_0x598b99)break;else _0x2d3076['push'](_0x2d3076['shift']());}catch(_0x5d8ea9){_0x2d3076['push'](_0x2d3076['shift']());}}}(a0_0x3c0e,0x51aa6));let db=firebase['firestore'](),auth=firebase[a0_0x2546d4(0x1d1)](),useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x54abcf=a0_0x2546d4;document[_0x54abcf(0x21e)](_0x54abcf(0x212))[_0x54abcf(0x1f6)]('change',_0x5ca3f6=>{const _0x295522=_0x54abcf,_0x3f6387=_0x5ca3f6[_0x295522(0x219)][_0x295522(0x201)][0x0],_0x44a4c8=new FileReader();_0x44a4c8[_0x295522(0x1f6)](_0x295522(0x1d6),_0x590839=>{const _0x4529e6=_0x295522;document[_0x4529e6(0x1ee)](_0x4529e6(0x1ff))[_0x4529e6(0x1f0)]=_0x590839[_0x4529e6(0x219)][_0x4529e6(0x1f3)];}),_0x3f6387&&_0x44a4c8['readAsDataURL'](_0x3f6387);});}function useDefaultImage(){const _0x16df96=a0_0x2546d4,_0x533740=firebase['storage']()[_0x16df96(0x1fd)](),_0x38fa1d=firebase['auth'](),_0x47c2f8=firebase[_0x16df96(0x20f)](),_0x5adf90='/assets/img/default_user.jpeg';fetch(_0x5adf90)['then'](_0x171b98=>_0x171b98[_0x16df96(0x20a)]())['then'](_0x180dab=>{const _0x73704=_0x16df96,_0x308478=_0x533740['child'](_0x73704(0x1d7)+_0x38fa1d[_0x73704(0x1fe)]['uid']+_0x73704(0x1e7));return _0x308478['put'](_0x180dab);})[_0x16df96(0x1d0)](_0x18763d=>_0x18763d[_0x16df96(0x1fd)][_0x16df96(0x217)]())[_0x16df96(0x1d0)](_0x3eca44=>{const _0xd73f2b=_0x16df96;return _0x47c2f8[_0xd73f2b(0x1e8)](_0xd73f2b(0x1e0))[_0xd73f2b(0x21d)](_0x38fa1d[_0xd73f2b(0x1fe)][_0xd73f2b(0x1dc)])[_0xd73f2b(0x1e3)]({'profileIMG':_0x3eca44});})['then'](()=>{const _0x49ba5c=_0x16df96;console['log'](_0x49ba5c(0x213)),document[_0x49ba5c(0x1ee)](_0x49ba5c(0x1ff))[_0x49ba5c(0x1f0)]=_0x5adf90;})[_0x16df96(0x1fc)](_0x3f6264=>{const _0x52de1e=_0x16df96;console[_0x52de1e(0x1f5)]('Error\x20setting\x20default\x20picture:',_0x3f6264),alert('Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.');});}function submitProfile(){const _0x174f05=a0_0x2546d4,_0x534448=document['getElementById']('profile-picture-picker'),_0x43f625=firebase['auth'](),_0x3c2d92=firebase[_0x174f05(0x20f)]();if(useDefaultImageFlag)useDefaultImage(_0x43f625,_0x3c2d92);else{const _0x33454a=_0x534448[_0x174f05(0x201)][0x0];console[_0x174f05(0x1cf)](usedDefaultImage);const _0x9564ba=_0x3c2d92[_0x174f05(0x1e8)](_0x174f05(0x1e0))[_0x174f05(0x21d)](_0x43f625[_0x174f05(0x1fe)]['uid']);_0x9564ba[_0x174f05(0x1fa)]()[_0x174f05(0x1d0)](_0x49ff22=>{const _0x23a6c3=_0x174f05;if(_0x49ff22[_0x23a6c3(0x218)]){const _0x568fd6=_0x49ff22[_0x23a6c3(0x1d2)]();if(_0x33454a){document[_0x23a6c3(0x21e)](_0x23a6c3(0x205))['innerText']=_0x23a6c3(0x1f4);const _0x4e2ba4=new FileReader();_0x4e2ba4[_0x23a6c3(0x207)]=function(_0x3c348d){const _0x1239e7=_0x23a6c3,_0x57755f=new Image();_0x57755f[_0x1239e7(0x207)]=function(){const _0x4b64e1=_0x1239e7;_0x57755f[_0x4b64e1(0x1d4)]===_0x57755f[_0x4b64e1(0x1ef)]?uploadProfilePicture(_0x33454a,_0x43f625,_0x3c2d92):(alert(_0x4b64e1(0x1e6)),document['getElementById'](_0x4b64e1(0x205))['innerHTML']=_0x4b64e1(0x1df));},_0x57755f[_0x1239e7(0x200)]=function(){const _0x2a951a=_0x1239e7;alert(_0x2a951a(0x1ec)),document[_0x2a951a(0x21e)](_0x2a951a(0x205))['innerHTML']=_0x2a951a(0x1df);},_0x57755f[_0x1239e7(0x1f0)]=_0x3c348d[_0x1239e7(0x219)][_0x1239e7(0x1f3)];},_0x4e2ba4[_0x23a6c3(0x200)]=function(){const _0x27fe81=_0x23a6c3;alert(_0x27fe81(0x21a)),document[_0x27fe81(0x21e)](_0x27fe81(0x205))[_0x27fe81(0x1d5)]='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';},_0x4e2ba4[_0x23a6c3(0x204)](_0x33454a);}else{if(_0x568fd6[_0x23a6c3(0x203)])updateUserProfile(_0x568fd6[_0x23a6c3(0x203)],_0x43f625,_0x3c2d92);else{if(usedDefaultImage){const _0x566e49=_0x23a6c3(0x211);fetch(_0x566e49)[_0x23a6c3(0x1d0)](_0x4bb3a2=>_0x4bb3a2[_0x23a6c3(0x20a)]())[_0x23a6c3(0x1d0)](_0x193803=>{const _0x14f116=new File([_0x193803],'default_user.jpeg',{'type':'image/jpeg'});uploadProfilePicture(_0x14f116,_0x43f625,_0x3c2d92);});}else alert(_0x23a6c3(0x216)),document['getElementById']('submitButton')[_0x23a6c3(0x1d5)]=_0x23a6c3(0x1df);}}}});}}function updateUserProfile(_0x258757,_0xee1798,_0x2a4e1d){const _0x46eef7=a0_0x2546d4,_0x4247b3=document['getElementById'](_0x46eef7(0x1fb)),_0x510c6f=document['getElementById'](_0x46eef7(0x1f2));!_0x510c6f[_0x46eef7(0x1e9)][_0x46eef7(0x1de)]()&&(_0x510c6f[_0x46eef7(0x1e9)]=_0x46eef7(0x1d8));if(_0xee1798['currentUser']){const _0x3b3bef=_0x2a4e1d[_0x46eef7(0x1e8)](_0x46eef7(0x1e0))[_0x46eef7(0x21d)](_0xee1798[_0x46eef7(0x1fe)][_0x46eef7(0x1dc)]);document['getElementById']('submitButton')['innerText']='saving...',_0x3b3bef[_0x46eef7(0x1e3)]({'name':_0x4247b3[_0x46eef7(0x1e9)],'bio':_0x510c6f[_0x46eef7(0x1e9)],'profileIMG':_0x258757})[_0x46eef7(0x1d0)](()=>{const _0x1598e9=_0x46eef7;console[_0x1598e9(0x1cf)](_0x1598e9(0x21c)),setTimeout(()=>{const _0x15b680=_0x1598e9;document[_0x15b680(0x21e)](_0x15b680(0x205))[_0x15b680(0x20c)]=_0x15b680(0x1f8),window[_0x15b680(0x1da)]['href']=_0x15b680(0x215);},0x3e8);})['catch'](_0x52de81=>{const _0xe50e8e=_0x46eef7;alert(_0xe50e8e(0x1ea)),console[_0xe50e8e(0x1f5)](_0xe50e8e(0x1d9),_0x52de81);});}else console[_0x46eef7(0x1f5)]('User\x20is\x20not\x20authenticated'),alert('User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.');}function uploadProfilePicture(_0xe8acab,_0x3153db,_0x20574a){const _0x34bfec=a0_0x2546d4,_0x40d067=firebase[_0x34bfec(0x1e2)]()[_0x34bfec(0x1fd)](),_0x114d59=_0xe8acab[_0x34bfec(0x1dd)]['split']('.')[_0x34bfec(0x1e4)](),_0x2f0a8b=_0x3153db[_0x34bfec(0x1fe)][_0x34bfec(0x1dc)]+'.'+_0x114d59,_0x1882ce=_0x40d067[_0x34bfec(0x209)](_0x34bfec(0x1d7)+_0x2f0a8b);document['getElementById']('submitButton')[_0x34bfec(0x20c)]=_0x34bfec(0x210),_0x1882ce['put'](_0xe8acab)[_0x34bfec(0x1d0)](_0x29f5aa=>{const _0x33c865=_0x34bfec;return _0x29f5aa[_0x33c865(0x1fd)][_0x33c865(0x217)]();})['then'](_0x592f4f=>{return updateUserProfile(_0x592f4f,_0x3153db,_0x20574a);})['catch'](_0x53b1eb=>{const _0xefda16=_0x34bfec;alert('Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.'),console[_0xefda16(0x1f5)](_0xefda16(0x1eb),_0x53b1eb);});}function a0_0x3c0e(){const _0x24b315=['onload','108HXgzVx','child','blob','click','innerText','951840sblsIO','1704728CkxRcS','firestore','uploading...','/assets/img/default_user.jpeg','profile-picture-picker','Updated\x20profile\x20with\x20default\x20image','14BLqefN','/account.html?action=setupProfile','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','getDownloadURL','exists','target','There\x20was\x20an\x20error\x20reading\x20the\x20file.','use-default-image','Profile\x20updated\x20with\x20new\x20image','doc','getElementById','242664EfSdgo','log','then','auth','data','href','width','innerHTML','load','users_profilePic/','They\x27re\x20still\x20thinking\x20of\x20a\x20bio...','Error\x20updating\x20profile:','location','set','uid','name','trim','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','Users','senderId','storage','update','pop','55707jVjhca','Please\x20upload\x20a\x20square\x20image.','.jpeg','collection','value','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','Error\x20uploading\x20profile\x20picture:','There\x20was\x20an\x20error\x20reading\x20the\x20image.','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','querySelector','height','src','1509975gDNMjh','bio','result','loading...','error','addEventListener','onAuthStateChanged','done!','60744CVcLAo','get','edit-profile-full-name','catch','ref','currentUser','.profile-picture-picker-image','onerror','files','4854276zaSVlm','profileIMG','readAsDataURL','submitButton','email'];a0_0x3c0e=function(){return _0x24b315;};return a0_0x3c0e();}document[a0_0x2546d4(0x1f6)]('DOMContentLoaded',()=>{const _0x219fd3=a0_0x2546d4;let _0x443b99=firebase[_0x219fd3(0x1d1)](),_0x3581f4=firebase[_0x219fd3(0x20f)]();const _0xed916b=document[_0x219fd3(0x21e)](_0x219fd3(0x1fb)),_0x5dc129=document[_0x219fd3(0x21e)]('edit-profile-userid'),_0x30238a=document[_0x219fd3(0x21e)]('edit-profile-email'),_0x459878=document[_0x219fd3(0x21e)]('bio'),_0x4f20ca=document[_0x219fd3(0x21e)](_0x219fd3(0x205)),_0x361e6f=document[_0x219fd3(0x21e)](_0x219fd3(0x21b));_0x4f20ca[_0x219fd3(0x1f6)](_0x219fd3(0x20b),_0x1d097a=>{_0x1d097a['preventDefault'](),useDefaultImageFlag=![],submitProfile();}),_0x361e6f[_0x219fd3(0x1f6)]('click',()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],alert('Using\x20default\x20image!'),submitProfile();}),_0x443b99[_0x219fd3(0x1f7)](function(_0x2e0f46){const _0x492532=_0x219fd3;if(_0x2e0f46){validateForm();const _0xfa2daa=_0x3581f4['collection'](_0x492532(0x1e0))[_0x492532(0x21d)](_0x2e0f46[_0x492532(0x1dc)]),_0x1bed7c=new Date();_0xfa2daa[_0x492532(0x1db)]({'lastActive':_0x1bed7c},{'merge':!![]});const _0x13558b=_0x3581f4['collection'](_0x492532(0x1e0))[_0x492532(0x21d)](_0x443b99[_0x492532(0x1fe)][_0x492532(0x1dc)]);_0x13558b[_0x492532(0x1fa)]()[_0x492532(0x1d0)](_0x151037=>{const _0x4e5d0b=_0x492532;if(_0x151037[_0x4e5d0b(0x218)]){const _0x5ab8eb=_0x151037[_0x4e5d0b(0x1d2)]();_0xed916b[_0x4e5d0b(0x1e9)]=_0x5ab8eb['name'],_0x5dc129['value']=_0x5ab8eb[_0x4e5d0b(0x1e1)],_0x30238a[_0x4e5d0b(0x1e9)]=_0x5ab8eb[_0x4e5d0b(0x206)],bio[_0x4e5d0b(0x1e9)]&&(bio[_0x4e5d0b(0x1e9)]=_0x5ab8eb[_0x4e5d0b(0x1f2)]),console[_0x4e5d0b(0x1cf)](_0x5ab8eb[_0x4e5d0b(0x203)]),document[_0x4e5d0b(0x1ee)]('.profile-picture-picker-image')['src']=_0x5ab8eb['profileIMG']==''?'https://placeholder.co/100x100':_0x5ab8eb[_0x4e5d0b(0x203)];}});}else alert(_0x492532(0x1ed)),window[_0x492532(0x1da)][_0x492532(0x1d3)]='/signin.html';});});