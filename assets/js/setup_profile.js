const a0_0x51cf4f=a0_0x211e;(function(_0x1aeb91,_0x4f86f2){const _0x1f74ab=a0_0x211e,_0x58799e=_0x1aeb91();while(!![]){try{const _0xc5ae94=-parseInt(_0x1f74ab(0x1a2))/0x1*(-parseInt(_0x1f74ab(0x17e))/0x2)+parseInt(_0x1f74ab(0x165))/0x3+parseInt(_0x1f74ab(0x190))/0x4*(parseInt(_0x1f74ab(0x1a7))/0x5)+-parseInt(_0x1f74ab(0x1b3))/0x6+parseInt(_0x1f74ab(0x172))/0x7*(-parseInt(_0x1f74ab(0x1b4))/0x8)+parseInt(_0x1f74ab(0x19a))/0x9*(-parseInt(_0x1f74ab(0x1be))/0xa)+parseInt(_0x1f74ab(0x194))/0xb*(parseInt(_0x1f74ab(0x16d))/0xc);if(_0xc5ae94===_0x4f86f2)break;else _0x58799e['push'](_0x58799e['shift']());}catch(_0x3350f4){_0x58799e['push'](_0x58799e['shift']());}}}(a0_0x1f59,0xe4a4a));let db=firebase[a0_0x51cf4f(0x1a5)](),auth=firebase[a0_0x51cf4f(0x170)](),useDefaultImageFlag=![],usedDefaultImage=![];function a0_0x1f59(){const _0x4efe51=['.profile-picture-picker-image','put','/signin.html','image/jpeg','24UKxzZB','onAuthStateChanged','preventDefault','auth','value','3487015XeUnyP','change','/assets/img/default_user.jpeg','data','readAsDataURL','use-default-image','innerText','profile-picture-picker','edit-profile-email','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','log','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','1143874AktNwd','catch','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','child','width','get','location','Users','collection','name','default_user.jpeg','submitButton','querySelector','User\x20is\x20not\x20authenticated','email','src','addEventListener','Error\x20uploading\x20profile\x20picture:','120pMKKCj','pop','done!','Error\x20updating\x20profile:','11776919BFJbvi','result','files','storage','blob','DOMContentLoaded','9nMpyPH','uploading...','ref','getElementById','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','Please\x20upload\x20a\x20square\x20image.','profileIMG','Profile\x20updated\x20with\x20new\x20image','2UKyKwl','uid','bio','firestore','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','45870EjVhpX','doc','height','loading...','update','currentUser','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','then','saving...','https://placeholder.co/100x100','Error\x20setting\x20default\x20picture:','split','3395526UOOCMu','24mxTgxc','onerror','trim','target','error','/account.html?action=setupProfile','innerHTML','.jpeg','set','exists','12668910nsVtwY','onload','href','2110251VNvSEt','Updated\x20profile\x20with\x20default\x20image','edit-profile-userid','users_profilePic/'];a0_0x1f59=function(){return _0x4efe51;};return a0_0x1f59();}function validateForm(){const _0x3c03fe=a0_0x51cf4f;document[_0x3c03fe(0x19d)](_0x3c03fe(0x179))[_0x3c03fe(0x18e)](_0x3c03fe(0x173),_0x284ae0=>{const _0x583c6c=_0x3c03fe,_0x568d87=_0x284ae0[_0x583c6c(0x1b7)][_0x583c6c(0x196)][0x0],_0x2f1166=new FileReader();_0x2f1166[_0x583c6c(0x18e)]('load',_0x3ee31d=>{const _0x22891e=_0x583c6c;document[_0x22891e(0x18a)](_0x22891e(0x169))[_0x22891e(0x18d)]=_0x3ee31d[_0x22891e(0x1b7)][_0x22891e(0x195)];}),_0x568d87&&_0x2f1166['readAsDataURL'](_0x568d87);});}function a0_0x211e(_0x19727d,_0x28794a){const _0x1f592c=a0_0x1f59();return a0_0x211e=function(_0x211e9f,_0x31168d){_0x211e9f=_0x211e9f-0x164;let _0x5e41c5=_0x1f592c[_0x211e9f];return _0x5e41c5;},a0_0x211e(_0x19727d,_0x28794a);}function useDefaultImage(){const _0x242fb2=a0_0x51cf4f,_0x348f24=firebase[_0x242fb2(0x197)]()[_0x242fb2(0x19c)](),_0x58e0e2=firebase['auth'](),_0x47fb8a=firebase[_0x242fb2(0x1a5)](),_0x7dc11a=_0x242fb2(0x174);fetch(_0x7dc11a)['then'](_0x50c7db=>_0x50c7db[_0x242fb2(0x198)]())['then'](_0x547233=>{const _0x1baf07=_0x242fb2,_0x3d68e8=_0x348f24[_0x1baf07(0x181)](_0x1baf07(0x168)+_0x58e0e2[_0x1baf07(0x1ac)][_0x1baf07(0x1a3)]+_0x1baf07(0x1bb));return _0x3d68e8[_0x1baf07(0x16a)](_0x547233);})[_0x242fb2(0x1ae)](_0x59e536=>_0x59e536[_0x242fb2(0x19c)]['getDownloadURL']())[_0x242fb2(0x1ae)](_0x1a0767=>{const _0x5516db=_0x242fb2;return _0x47fb8a[_0x5516db(0x186)](_0x5516db(0x185))[_0x5516db(0x1a8)](_0x58e0e2['currentUser'][_0x5516db(0x1a3)])[_0x5516db(0x1ab)]({'profileIMG':_0x1a0767});})[_0x242fb2(0x1ae)](()=>{const _0x3d4c20=_0x242fb2;console[_0x3d4c20(0x17c)](_0x3d4c20(0x166)),document[_0x3d4c20(0x18a)](_0x3d4c20(0x169))[_0x3d4c20(0x18d)]=_0x7dc11a;})[_0x242fb2(0x17f)](_0x202212=>{const _0x5d69bc=_0x242fb2;console[_0x5d69bc(0x1b8)](_0x5d69bc(0x1b1),_0x202212),alert(_0x5d69bc(0x17b));});}function submitProfile(){const _0x7dc20=a0_0x51cf4f,_0x3103ca=document[_0x7dc20(0x19d)](_0x7dc20(0x179)),_0x200e23=firebase[_0x7dc20(0x170)](),_0x2a433c=firebase['firestore']();if(useDefaultImageFlag)useDefaultImage(_0x200e23,_0x2a433c);else{const _0x183355=_0x3103ca[_0x7dc20(0x196)][0x0];console[_0x7dc20(0x17c)](usedDefaultImage);const _0xd1e690=_0x2a433c[_0x7dc20(0x186)]('Users')[_0x7dc20(0x1a8)](_0x200e23[_0x7dc20(0x1ac)][_0x7dc20(0x1a3)]);_0xd1e690[_0x7dc20(0x183)]()[_0x7dc20(0x1ae)](_0x181d97=>{const _0x43da37=_0x7dc20;if(_0x181d97[_0x43da37(0x1bd)]){const _0x4edd62=_0x181d97[_0x43da37(0x175)]();if(_0x183355){document[_0x43da37(0x19d)]('submitButton')['innerText']=_0x43da37(0x1aa);const _0x2f5798=new FileReader();_0x2f5798[_0x43da37(0x1bf)]=function(_0x56b369){const _0x56f928=_0x43da37,_0x9dc44a=new Image();_0x9dc44a['onload']=function(){const _0x4269d0=a0_0x211e;_0x9dc44a[_0x4269d0(0x182)]===_0x9dc44a[_0x4269d0(0x1a9)]?uploadProfilePicture(_0x183355,_0x200e23,_0x2a433c):(alert(_0x4269d0(0x19f)),document[_0x4269d0(0x19d)](_0x4269d0(0x189))[_0x4269d0(0x1ba)]=_0x4269d0(0x1a6));},_0x9dc44a[_0x56f928(0x1b5)]=function(){const _0xb3a41b=_0x56f928;alert('There\x20was\x20an\x20error\x20reading\x20the\x20image.'),document['getElementById'](_0xb3a41b(0x189))[_0xb3a41b(0x1ba)]=_0xb3a41b(0x1a6);},_0x9dc44a[_0x56f928(0x18d)]=_0x56b369[_0x56f928(0x1b7)][_0x56f928(0x195)];},_0x2f5798[_0x43da37(0x1b5)]=function(){const _0x5cabeb=_0x43da37;alert('There\x20was\x20an\x20error\x20reading\x20the\x20file.'),document[_0x5cabeb(0x19d)](_0x5cabeb(0x189))[_0x5cabeb(0x1ba)]='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';},_0x2f5798[_0x43da37(0x176)](_0x183355);}else{if(_0x4edd62['profileIMG'])updateUserProfile(_0x4edd62[_0x43da37(0x1a0)],_0x200e23,_0x2a433c);else{if(usedDefaultImage){const _0x742141=_0x43da37(0x174);fetch(_0x742141)[_0x43da37(0x1ae)](_0x5a5d9=>_0x5a5d9['blob']())[_0x43da37(0x1ae)](_0x4c9c61=>{const _0x19d1c2=_0x43da37,_0x2e8346=new File([_0x4c9c61],_0x19d1c2(0x188),{'type':_0x19d1c2(0x16c)});uploadProfilePicture(_0x2e8346,_0x200e23,_0x2a433c);});}else alert(_0x43da37(0x180)),document['getElementById'](_0x43da37(0x189))['innerHTML']='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';}}}});}}function updateUserProfile(_0x497d32,_0x1d5374,_0xe3f251){const _0x69bd90=a0_0x51cf4f,_0x4be8b2=document[_0x69bd90(0x19d)]('edit-profile-full-name'),_0x23b8d4=document[_0x69bd90(0x19d)](_0x69bd90(0x1a4));!_0x23b8d4[_0x69bd90(0x171)][_0x69bd90(0x1b6)]()&&(_0x23b8d4[_0x69bd90(0x171)]='They\x27re\x20still\x20thinking\x20of\x20a\x20bio...');if(_0x1d5374[_0x69bd90(0x1ac)]){const _0x26c336=_0xe3f251[_0x69bd90(0x186)](_0x69bd90(0x185))[_0x69bd90(0x1a8)](_0x1d5374[_0x69bd90(0x1ac)][_0x69bd90(0x1a3)]);document['getElementById'](_0x69bd90(0x189))[_0x69bd90(0x178)]=_0x69bd90(0x1af),_0x26c336['update']({'name':_0x4be8b2['value'],'bio':_0x23b8d4[_0x69bd90(0x171)],'profileIMG':_0x497d32})[_0x69bd90(0x1ae)](()=>{const _0x248a1d=_0x69bd90;console[_0x248a1d(0x17c)](_0x248a1d(0x1a1)),setTimeout(()=>{const _0x463fe0=_0x248a1d;document['getElementById'](_0x463fe0(0x189))[_0x463fe0(0x178)]=_0x463fe0(0x192),window[_0x463fe0(0x184)][_0x463fe0(0x164)]=_0x463fe0(0x1b9);},0x3e8);})[_0x69bd90(0x17f)](_0x27ada3=>{const _0x14dffd=_0x69bd90;alert('Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.'),console['error'](_0x14dffd(0x193),_0x27ada3);});}else console[_0x69bd90(0x1b8)](_0x69bd90(0x18b)),alert(_0x69bd90(0x19e));}function uploadProfilePicture(_0xfe6668,_0x5c5481,_0x45485e){const _0x354bdd=a0_0x51cf4f,_0x2d74b7=firebase[_0x354bdd(0x197)]()[_0x354bdd(0x19c)](),_0x1c1399=_0xfe6668[_0x354bdd(0x187)][_0x354bdd(0x1b2)]('.')[_0x354bdd(0x191)](),_0x5c7b25=_0x5c5481[_0x354bdd(0x1ac)]['uid']+'.'+_0x1c1399,_0x48134e=_0x2d74b7['child'](_0x354bdd(0x168)+_0x5c7b25);document[_0x354bdd(0x19d)]('submitButton')[_0x354bdd(0x178)]=_0x354bdd(0x19b),_0x48134e[_0x354bdd(0x16a)](_0xfe6668)['then'](_0x475dd4=>{return _0x475dd4['ref']['getDownloadURL']();})[_0x354bdd(0x1ae)](_0x42f441=>{return updateUserProfile(_0x42f441,_0x5c5481,_0x45485e);})[_0x354bdd(0x17f)](_0x6c353c=>{const _0x3dcc2f=_0x354bdd;alert(_0x3dcc2f(0x1ad)),console[_0x3dcc2f(0x1b8)](_0x3dcc2f(0x18f),_0x6c353c);});}document[a0_0x51cf4f(0x18e)](a0_0x51cf4f(0x199),()=>{const _0x5c0d78=a0_0x51cf4f;let _0x43ad17=firebase[_0x5c0d78(0x170)](),_0xd788c3=firebase[_0x5c0d78(0x1a5)]();const _0x1700b=document[_0x5c0d78(0x19d)]('edit-profile-full-name'),_0x221e87=document[_0x5c0d78(0x19d)](_0x5c0d78(0x167)),_0x381e67=document[_0x5c0d78(0x19d)](_0x5c0d78(0x17a)),_0xcf7377=document['getElementById'](_0x5c0d78(0x1a4)),_0x200bc9=document['getElementById'](_0x5c0d78(0x189)),_0x54236d=document[_0x5c0d78(0x19d)](_0x5c0d78(0x177));_0x200bc9[_0x5c0d78(0x18e)]('click',_0x52d841=>{const _0x42b867=_0x5c0d78;_0x52d841[_0x42b867(0x16f)](),useDefaultImageFlag=![],submitProfile();}),_0x54236d[_0x5c0d78(0x18e)]('click',()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],alert('Using\x20default\x20image!'),submitProfile();}),_0x43ad17[_0x5c0d78(0x16e)](function(_0x13f95c){const _0x14b823=_0x5c0d78;if(_0x13f95c){validateForm();const _0xba4d8=_0xd788c3[_0x14b823(0x186)]('Users')[_0x14b823(0x1a8)](_0x13f95c['uid']),_0xf68899=new Date();_0xba4d8[_0x14b823(0x1bc)]({'lastActive':_0xf68899},{'merge':!![]});const _0x1e63c9=_0xd788c3['collection']('Users')[_0x14b823(0x1a8)](_0x43ad17[_0x14b823(0x1ac)][_0x14b823(0x1a3)]);_0x1e63c9[_0x14b823(0x183)]()[_0x14b823(0x1ae)](_0x4ff3f9=>{const _0x153a0b=_0x14b823;if(_0x4ff3f9[_0x153a0b(0x1bd)]){const _0x3310de=_0x4ff3f9[_0x153a0b(0x175)]();_0x1700b[_0x153a0b(0x171)]=_0x3310de[_0x153a0b(0x187)],_0x221e87[_0x153a0b(0x171)]=_0x3310de['senderId'],_0x381e67['value']=_0x3310de[_0x153a0b(0x18c)],bio[_0x153a0b(0x171)]&&(bio[_0x153a0b(0x171)]=_0x3310de[_0x153a0b(0x1a4)]),console[_0x153a0b(0x17c)](_0x3310de[_0x153a0b(0x1a0)]),document[_0x153a0b(0x18a)](_0x153a0b(0x169))[_0x153a0b(0x18d)]=_0x3310de[_0x153a0b(0x1a0)]==''?_0x153a0b(0x1b0):_0x3310de['profileIMG'];}});}else alert(_0x14b823(0x17d)),window[_0x14b823(0x184)][_0x14b823(0x164)]=_0x14b823(0x16b);});});