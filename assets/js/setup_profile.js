const a0_0x49fa72=a0_0x2433;(function(_0x383cd8,_0x3e4e6a){const _0x2077e0=a0_0x2433,_0x1a4398=_0x383cd8();while(!![]){try{const _0x14e86e=parseInt(_0x2077e0(0xb1))/0x1+-parseInt(_0x2077e0(0xba))/0x2*(parseInt(_0x2077e0(0xa7))/0x3)+parseInt(_0x2077e0(0xd2))/0x4+parseInt(_0x2077e0(0xd8))/0x5*(parseInt(_0x2077e0(0x82))/0x6)+-parseInt(_0x2077e0(0xa6))/0x7+-parseInt(_0x2077e0(0xd1))/0x8*(parseInt(_0x2077e0(0xb0))/0x9)+-parseInt(_0x2077e0(0x9e))/0xa;if(_0x14e86e===_0x3e4e6a)break;else _0x1a4398['push'](_0x1a4398['shift']());}catch(_0x3b5a22){_0x1a4398['push'](_0x1a4398['shift']());}}}(a0_0x43ef,0xc237c));let db=firebase[a0_0x49fa72(0xb4)](),auth=firebase[a0_0x49fa72(0xcc)](),useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x3ba1d2=a0_0x49fa72;document[_0x3ba1d2(0xbe)]('profile-picture-picker')['addEventListener']('change',_0x42d242=>{const _0x40d6ef=_0x3ba1d2,_0x36df9a=_0x42d242['target'][_0x40d6ef(0xbb)][0x0],_0x50ad99=new FileReader();_0x50ad99[_0x40d6ef(0xa4)](_0x40d6ef(0x85),_0x2791f9=>{const _0xff61ad=_0x40d6ef;document[_0xff61ad(0xab)](_0xff61ad(0x91))[_0xff61ad(0x83)]=_0x2791f9[_0xff61ad(0xc1)][_0xff61ad(0xc7)];}),_0x36df9a&&_0x50ad99[_0x40d6ef(0x99)](_0x36df9a);});}function a0_0x43ef(){const _0x50ced=['data','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','profileIMG','538568WNBJdY','6238216poQDIr','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','value','child','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','profile-picture-picker','27445XgKANy','catch','image/jpeg','users_profilePic/','132ljesQv','src','email','load','Error\x20setting\x20default\x20picture:','currentUser','Please\x20upload\x20a\x20square\x20image.','There\x20was\x20an\x20error\x20reading\x20the\x20file.','collection','/signin.html','location','onload','split','submitButton','bio','.profile-picture-picker-image','doc','Error\x20uploading\x20profile\x20picture:','https://placeholder.co/100x100','uid','trim','click','blob','readAsDataURL','They\x27re\x20still\x20thinking\x20of\x20a\x20bio...','set','Users','then','3445470sThEHh','.jpeg','put','pop','innerText','edit-profile-userid','addEventListener','loading...','7317548FHYWIw','219684mIegQx','href','edit-profile-full-name','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','querySelector','onAuthStateChanged','name','error','ref','9uqHqvL','1377944dzSgOH','get','saving...','firestore','storage','update','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','There\x20was\x20an\x20error\x20reading\x20the\x20image.','getDownloadURL','22CXJcOt','files','uploading...','senderId','getElementById','Profile\x20updated\x20with\x20new\x20image','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','target','exists','User\x20is\x20not\x20authenticated','width','default_user.jpeg','height','result','/assets/img/default_user.jpeg','log','onerror','innerHTML','auth','Updated\x20profile\x20with\x20default\x20image'];a0_0x43ef=function(){return _0x50ced;};return a0_0x43ef();}function useDefaultImage(){const _0x40c02b=a0_0x49fa72,_0x18d737=firebase[_0x40c02b(0xb5)]()[_0x40c02b(0xaf)](),_0x35ca9c=firebase[_0x40c02b(0xcc)](),_0x5bb335=firebase[_0x40c02b(0xb4)](),_0x197bb0=_0x40c02b(0xc8);fetch(_0x197bb0)['then'](_0x1159a2=>_0x1159a2['blob']())[_0x40c02b(0x9d)](_0x3a8790=>{const _0x57a172=_0x40c02b,_0x205151=_0x18d737[_0x57a172(0xd5)](_0x57a172(0xdb)+_0x35ca9c[_0x57a172(0x87)][_0x57a172(0x95)]+_0x57a172(0x9f));return _0x205151[_0x57a172(0xa0)](_0x3a8790);})['then'](_0x234dcd=>_0x234dcd[_0x40c02b(0xaf)][_0x40c02b(0xb9)]())[_0x40c02b(0x9d)](_0x177aa3=>{const _0x517c6a=_0x40c02b;return _0x5bb335[_0x517c6a(0x8a)](_0x517c6a(0x9c))['doc'](_0x35ca9c[_0x517c6a(0x87)][_0x517c6a(0x95)])[_0x517c6a(0xb6)]({'profileIMG':_0x177aa3});})['then'](()=>{const _0x32ea87=_0x40c02b;console['log'](_0x32ea87(0xcd)),document[_0x32ea87(0xab)](_0x32ea87(0x91))['src']=_0x197bb0;})['catch'](_0x159bc0=>{const _0xc1fb92=_0x40c02b;console[_0xc1fb92(0xae)](_0xc1fb92(0x86),_0x159bc0),alert(_0xc1fb92(0xcf));});}function submitProfile(){const _0x2eaceb=a0_0x49fa72,_0x3fc641=document[_0x2eaceb(0xbe)](_0x2eaceb(0xd7)),_0x2f05f4=firebase['auth'](),_0x5ee434=firebase[_0x2eaceb(0xb4)]();if(useDefaultImageFlag)useDefaultImage(_0x2f05f4,_0x5ee434);else{const _0x87c3c3=_0x3fc641[_0x2eaceb(0xbb)][0x0];console[_0x2eaceb(0xc9)](usedDefaultImage);const _0x1a3993=_0x5ee434[_0x2eaceb(0x8a)]('Users')[_0x2eaceb(0x92)](_0x2f05f4[_0x2eaceb(0x87)][_0x2eaceb(0x95)]);_0x1a3993[_0x2eaceb(0xb2)]()['then'](_0x6ce84c=>{const _0x924fb4=_0x2eaceb;if(_0x6ce84c[_0x924fb4(0xc2)]){const _0x3cd3f4=_0x6ce84c['data']();if(_0x87c3c3){document['getElementById'](_0x924fb4(0x8f))[_0x924fb4(0xa2)]=_0x924fb4(0xa5);const _0x4b46df=new FileReader();_0x4b46df[_0x924fb4(0x8d)]=function(_0xaf3857){const _0x18cbd0=_0x924fb4,_0x1c486a=new Image();_0x1c486a[_0x18cbd0(0x8d)]=function(){const _0x11cf35=_0x18cbd0;_0x1c486a[_0x11cf35(0xc4)]===_0x1c486a[_0x11cf35(0xc6)]?uploadProfilePicture(_0x87c3c3,_0x2f05f4,_0x5ee434):(alert(_0x11cf35(0x88)),document[_0x11cf35(0xbe)](_0x11cf35(0x8f))[_0x11cf35(0xcb)]='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>');},_0x1c486a[_0x18cbd0(0xca)]=function(){const _0x5583b2=_0x18cbd0;alert(_0x5583b2(0xb8)),document[_0x5583b2(0xbe)](_0x5583b2(0x8f))[_0x5583b2(0xcb)]='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>';},_0x1c486a[_0x18cbd0(0x83)]=_0xaf3857['target'][_0x18cbd0(0xc7)];},_0x4b46df[_0x924fb4(0xca)]=function(){const _0x22b265=_0x924fb4;alert(_0x22b265(0x89)),document[_0x22b265(0xbe)]('submitButton')['innerHTML']=_0x22b265(0xd6);},_0x4b46df[_0x924fb4(0x99)](_0x87c3c3);}else{if(_0x3cd3f4[_0x924fb4(0xd0)])updateUserProfile(_0x3cd3f4[_0x924fb4(0xd0)],_0x2f05f4,_0x5ee434);else{if(usedDefaultImage){const _0x2e0a90=_0x924fb4(0xc8);fetch(_0x2e0a90)[_0x924fb4(0x9d)](_0x1393d9=>_0x1393d9[_0x924fb4(0x98)]())[_0x924fb4(0x9d)](_0x3d11dc=>{const _0x592e97=_0x924fb4,_0x1cb03c=new File([_0x3d11dc],_0x592e97(0xc5),{'type':_0x592e97(0xda)});uploadProfilePicture(_0x1cb03c,_0x2f05f4,_0x5ee434);});}else alert(_0x924fb4(0xaa)),document['getElementById']('submitButton')['innerHTML']=_0x924fb4(0xd6);}}}});}}function a0_0x2433(_0x29f087,_0x3c8223){const _0x43ef8c=a0_0x43ef();return a0_0x2433=function(_0x2433ed,_0x31a5cc){_0x2433ed=_0x2433ed-0x82;let _0x397d85=_0x43ef8c[_0x2433ed];return _0x397d85;},a0_0x2433(_0x29f087,_0x3c8223);}function updateUserProfile(_0x38760c,_0x30961a,_0x2239ac){const _0x3eb063=a0_0x49fa72,_0x54b908=document[_0x3eb063(0xbe)](_0x3eb063(0xa9)),_0x1675aa=document[_0x3eb063(0xbe)](_0x3eb063(0x90));!_0x1675aa[_0x3eb063(0xd4)][_0x3eb063(0x96)]()&&(_0x1675aa['value']=_0x3eb063(0x9a));if(_0x30961a[_0x3eb063(0x87)]){const _0x10f842=_0x2239ac[_0x3eb063(0x8a)]('Users')['doc'](_0x30961a[_0x3eb063(0x87)][_0x3eb063(0x95)]);document[_0x3eb063(0xbe)](_0x3eb063(0x8f))[_0x3eb063(0xa2)]=_0x3eb063(0xb3),_0x10f842[_0x3eb063(0xb6)]({'name':_0x54b908['value'],'bio':_0x1675aa[_0x3eb063(0xd4)],'profileIMG':_0x38760c})[_0x3eb063(0x9d)](()=>{const _0x330d73=_0x3eb063;console['log'](_0x330d73(0xbf)),setTimeout(()=>{const _0x5310fe=_0x330d73;document[_0x5310fe(0xbe)]('submitButton')['innerText']='done!',window[_0x5310fe(0x8c)]['href']='/account.html?action=setupProfile';},0x3e8);})[_0x3eb063(0xd9)](_0x441bce=>{const _0xa71b3e=_0x3eb063;alert(_0xa71b3e(0xb7)),console[_0xa71b3e(0xae)]('Error\x20updating\x20profile:',_0x441bce);});}else console['error'](_0x3eb063(0xc3)),alert(_0x3eb063(0xd3));}function uploadProfilePicture(_0x302172,_0x503e93,_0x357684){const _0x3571a3=a0_0x49fa72,_0x1d2efa=firebase[_0x3571a3(0xb5)]()['ref'](),_0x3efb03=_0x302172[_0x3571a3(0xad)][_0x3571a3(0x8e)]('.')[_0x3571a3(0xa1)](),_0x2fffe0=_0x503e93[_0x3571a3(0x87)][_0x3571a3(0x95)]+'.'+_0x3efb03,_0x448419=_0x1d2efa['child'](_0x3571a3(0xdb)+_0x2fffe0);document[_0x3571a3(0xbe)]('submitButton')['innerText']=_0x3571a3(0xbc),_0x448419[_0x3571a3(0xa0)](_0x302172)[_0x3571a3(0x9d)](_0x517e44=>{const _0x1ca114=_0x3571a3;return _0x517e44[_0x1ca114(0xaf)][_0x1ca114(0xb9)]();})['then'](_0x2dcd9d=>{return updateUserProfile(_0x2dcd9d,_0x503e93,_0x357684);})[_0x3571a3(0xd9)](_0x45c0d0=>{const _0x3cebe3=_0x3571a3;alert(_0x3cebe3(0xc0)),console[_0x3cebe3(0xae)](_0x3cebe3(0x93),_0x45c0d0);});}document[a0_0x49fa72(0xa4)]('DOMContentLoaded',()=>{const _0x1a9454=a0_0x49fa72;let _0x4b885c=firebase[_0x1a9454(0xcc)](),_0x8077af=firebase['firestore']();const _0x1196c3=document[_0x1a9454(0xbe)](_0x1a9454(0xa9)),_0x5ea840=document[_0x1a9454(0xbe)](_0x1a9454(0xa3)),_0x42829b=document[_0x1a9454(0xbe)]('edit-profile-email'),_0x3aca9d=document[_0x1a9454(0xbe)](_0x1a9454(0x90)),_0xb1f643=document['getElementById'](_0x1a9454(0x8f)),_0x2252ae=document['getElementById']('use-default-image');_0xb1f643['addEventListener'](_0x1a9454(0x97),_0x93a133=>{_0x93a133['preventDefault'](),useDefaultImageFlag=![],submitProfile();}),_0x2252ae['addEventListener']('click',()=>{useDefaultImageFlag=!![],usedDefaultImage=!![],alert('Using\x20default\x20image!'),submitProfile();}),_0x4b885c[_0x1a9454(0xac)](function(_0xb60c07){const _0x5cbc9d=_0x1a9454;if(_0xb60c07){validateForm();const _0x3ff944=_0x8077af[_0x5cbc9d(0x8a)]('Users')['doc'](_0xb60c07[_0x5cbc9d(0x95)]),_0xbd4cc2=new Date();_0x3ff944[_0x5cbc9d(0x9b)]({'lastActive':_0xbd4cc2},{'merge':!![]});const _0x242869=_0x8077af[_0x5cbc9d(0x8a)](_0x5cbc9d(0x9c))[_0x5cbc9d(0x92)](_0x4b885c[_0x5cbc9d(0x87)][_0x5cbc9d(0x95)]);_0x242869[_0x5cbc9d(0xb2)]()['then'](_0x5b867b=>{const _0x472492=_0x5cbc9d;if(_0x5b867b[_0x472492(0xc2)]){const _0x3e8e4e=_0x5b867b[_0x472492(0xce)]();_0x1196c3[_0x472492(0xd4)]=_0x3e8e4e[_0x472492(0xad)],_0x5ea840[_0x472492(0xd4)]=_0x3e8e4e[_0x472492(0xbd)],_0x42829b[_0x472492(0xd4)]=_0x3e8e4e[_0x472492(0x84)],bio[_0x472492(0xd4)]&&(bio[_0x472492(0xd4)]=_0x3e8e4e[_0x472492(0x90)]),console['log'](_0x3e8e4e[_0x472492(0xd0)]),document[_0x472492(0xab)](_0x472492(0x91))[_0x472492(0x83)]=_0x3e8e4e[_0x472492(0xd0)]==''?_0x472492(0x94):_0x3e8e4e['profileIMG'];}});}else alert('Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.'),window[_0x5cbc9d(0x8c)][_0x5cbc9d(0xa8)]=_0x5cbc9d(0x8b);});});