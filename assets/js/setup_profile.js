const a0_0xbeb130=a0_0x1b0a;(function(_0x576e2c,_0x47b7d1){const _0x355fd8=a0_0x1b0a,_0x1c6b8c=_0x576e2c();while(!![]){try{const _0x8bf0d4=parseInt(_0x355fd8(0x19e))/0x1+parseInt(_0x355fd8(0x1e3))/0x2*(parseInt(_0x355fd8(0x193))/0x3)+parseInt(_0x355fd8(0x1a3))/0x4*(parseInt(_0x355fd8(0x1e0))/0x5)+-parseInt(_0x355fd8(0x1a6))/0x6*(parseInt(_0x355fd8(0x1d9))/0x7)+-parseInt(_0x355fd8(0x18b))/0x8+parseInt(_0x355fd8(0x190))/0x9+parseInt(_0x355fd8(0x1c4))/0xa;if(_0x8bf0d4===_0x47b7d1)break;else _0x1c6b8c['push'](_0x1c6b8c['shift']());}catch(_0x1a2509){_0x1c6b8c['push'](_0x1c6b8c['shift']());}}}(a0_0x28a4,0x2d4bc));let db=firebase[a0_0xbeb130(0x1b2)](),auth=firebase['auth'](),useDefaultImageFlag=![],usedDefaultImage=![];function validateForm(){const _0x499fb8=a0_0xbeb130;document[_0x499fb8(0x1c9)]('profile-picture-picker')[_0x499fb8(0x1dc)](_0x499fb8(0x1c8),_0x242097=>{const _0x4f2d7b=_0x499fb8,_0x34e0ea=_0x242097[_0x4f2d7b(0x1b6)]['files'][0x0],_0x1878b2=new FileReader();_0x1878b2[_0x4f2d7b(0x1dc)](_0x4f2d7b(0x1a1),_0x5d20f4=>{const _0x115b46=_0x4f2d7b;document['querySelector']('.profile-picture-picker-image')[_0x115b46(0x1bf)]=_0x5d20f4[_0x115b46(0x1b6)][_0x115b46(0x1de)];}),_0x34e0ea&&_0x1878b2[_0x4f2d7b(0x19d)](_0x34e0ea);});}function useDefaultImage(){const _0x49486d=a0_0xbeb130,_0x4c149f=firebase[_0x49486d(0x1b3)]()[_0x49486d(0x1d3)](),_0x3fc85c=firebase['auth'](),_0x1445fa=firebase['firestore'](),_0x4bdc8e=_0x49486d(0x18e);fetch(_0x4bdc8e)[_0x49486d(0x1af)](_0x1711c1=>_0x1711c1['blob']())['then'](_0x3f3ee6=>{const _0xed973a=_0x49486d,_0x337740=_0x4c149f[_0xed973a(0x1b4)]('users_profilePic/'+_0x3fc85c[_0xed973a(0x1ca)][_0xed973a(0x1a4)]+_0xed973a(0x1c2));return _0x337740[_0xed973a(0x1a8)](_0x3f3ee6);})[_0x49486d(0x1af)](_0x360db4=>_0x360db4[_0x49486d(0x1d3)]['getDownloadURL']())[_0x49486d(0x1af)](_0x5686ec=>{const _0x1d33f9=_0x49486d;return _0x1445fa['collection'](_0x1d33f9(0x1ab))[_0x1d33f9(0x1cf)](_0x3fc85c['currentUser']['uid'])['update']({'profileIMG':_0x5686ec});})[_0x49486d(0x1af)](()=>{const _0x4ebd79=_0x49486d;console[_0x4ebd79(0x1c3)](_0x4ebd79(0x18f)),document['querySelector'](_0x4ebd79(0x1ce))[_0x4ebd79(0x1bf)]=_0x4bdc8e;})[_0x49486d(0x1da)](_0x2002d0=>{const _0x280635=_0x49486d;console['error']('Error\x20setting\x20default\x20picture:',_0x2002d0),alert(_0x280635(0x1a9));});}function submitProfile(){const _0xfbde5f=a0_0xbeb130,_0x5bcb5b=document['getElementById'](_0xfbde5f(0x1c0)),_0x1f4c06=firebase['auth'](),_0x261b42=firebase[_0xfbde5f(0x1b2)]();if(useDefaultImageFlag)useDefaultImage(_0x1f4c06,_0x261b42);else{const _0x291467=_0x5bcb5b[_0xfbde5f(0x1c1)][0x0];console[_0xfbde5f(0x1c3)](usedDefaultImage);const _0x2c7334=_0x261b42[_0xfbde5f(0x1db)]('Users')[_0xfbde5f(0x1cf)](_0x1f4c06[_0xfbde5f(0x1ca)][_0xfbde5f(0x1a4)]);_0x2c7334[_0xfbde5f(0x192)]()[_0xfbde5f(0x1af)](_0x4abdc8=>{const _0xadd0dd=_0xfbde5f;if(_0x4abdc8[_0xadd0dd(0x1c6)]){const _0x5f42d7=_0x4abdc8['data']();if(_0x291467){document['getElementById'](_0xadd0dd(0x1bd))[_0xadd0dd(0x18d)]=_0xadd0dd(0x1d6);const _0xb0c652=new FileReader();_0xb0c652['onload']=function(_0x37dfc6){const _0x1d5e3e=_0xadd0dd,_0x30e66c=new Image();_0x30e66c['onload']=function(){const _0x25acc1=a0_0x1b0a;_0x30e66c['width']===_0x30e66c[_0x25acc1(0x1a0)]?uploadProfilePicture(_0x291467,_0x1f4c06,_0x261b42):(alert(_0x25acc1(0x1b8)),document[_0x25acc1(0x1c9)](_0x25acc1(0x1bd))['innerHTML']='takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>');},_0x30e66c['onerror']=function(){const _0x1e7350=a0_0x1b0a;alert('There\x20was\x20an\x20error\x20reading\x20the\x20image.'),document[_0x1e7350(0x1c9)](_0x1e7350(0x1bd))[_0x1e7350(0x1b9)]=_0x1e7350(0x19c);},_0x30e66c[_0x1d5e3e(0x1bf)]=_0x37dfc6[_0x1d5e3e(0x1b6)][_0x1d5e3e(0x1de)];},_0xb0c652[_0xadd0dd(0x195)]=function(){const _0x35b191=_0xadd0dd;alert(_0x35b191(0x1bc)),document[_0x35b191(0x1c9)]('submitButton')[_0x35b191(0x1b9)]=_0x35b191(0x19c);},_0xb0c652[_0xadd0dd(0x19d)](_0x291467);}else{if(_0x5f42d7[_0xadd0dd(0x1e1)])updateUserProfile(_0x5f42d7[_0xadd0dd(0x1e1)],_0x1f4c06,_0x261b42);else{if(usedDefaultImage){const _0x244604=_0xadd0dd(0x18e);fetch(_0x244604)[_0xadd0dd(0x1af)](_0x211dca=>_0x211dca[_0xadd0dd(0x1d1)]())[_0xadd0dd(0x1af)](_0x10360a=>{const _0x543c9c=_0xadd0dd,_0x5a7696=new File([_0x10360a],_0x543c9c(0x1d7),{'type':_0x543c9c(0x1dd)});uploadProfilePicture(_0x5a7696,_0x1f4c06,_0x261b42);});}else alert(_0xadd0dd(0x198)),document['getElementById']('submitButton')[_0xadd0dd(0x1b9)]=_0xadd0dd(0x19c);}}}});}}function a0_0x28a4(){const _0x4c799d=['223630MseFKP','set','height','load','users_profilePic/','8FojZie','uid','Error\x20updating\x20profile:','6eihnws','User\x20is\x20not\x20authenticated.\x20Please\x20log\x20in\x20and\x20try\x20again.','put','Error\x20setting\x20default\x20picture.\x20Please\x20try\x20again\x20later.','update','Users','Using\x20default\x20image!','Error\x20updating\x20profile.\x20Please\x20try\x20again\x20later.','trim','then','pop','preventDefault','firestore','storage','child','getDownloadURL','target','error','Please\x20upload\x20a\x20square\x20image.','innerHTML','Profile\x20updated\x20with\x20new\x20image','location','There\x20was\x20an\x20error\x20reading\x20the\x20file.','submitButton','onAuthStateChanged','src','profile-picture-picker','files','.jpeg','log','1151160taRbnw','edit-profile-email','exists','uploading...','change','getElementById','currentUser','auth','href','done!','.profile-picture-picker-image','doc','name','blob','Error\x20uploading\x20profile\x20picture.\x20Please\x20try\x20again\x20later.','ref','split','User\x20is\x20not\x20authenticated','loading...','default_user.jpeg','use-default-image','2579815Xfkqhq','catch','collection','addEventListener','image/jpeg','result','click','99445Vdzeny','profileIMG','email','38580OBGGMj','https://placeholder.co/100x100','744112MRWWKe','saving...','innerText','/assets/img/default_user.jpeg','Updated\x20profile\x20with\x20default\x20image','1549053ioRxLd','data','get','15Ksjlsz','Error\x20uploading\x20profile\x20picture:','onerror','edit-profile-userid','Cannot\x20get\x20current\x20user\x20details.\x20Please\x20sign\x20in\x20first\x20or\x20refresh\x20the\x20page.','Please\x20upload\x20a\x20profile\x20picture,\x20or\x20use\x20default.','edit-profile-full-name','bio','value','takeoff\x20<span\x20style=\x22padding-left:\x205px;\x22>ðŸš€</span>','readAsDataURL'];a0_0x28a4=function(){return _0x4c799d;};return a0_0x28a4();}function a0_0x1b0a(_0xd5bfec,_0x29f9a4){const _0x28a465=a0_0x28a4();return a0_0x1b0a=function(_0x1b0a98,_0x2063f3){_0x1b0a98=_0x1b0a98-0x18a;let _0x589867=_0x28a465[_0x1b0a98];return _0x589867;},a0_0x1b0a(_0xd5bfec,_0x29f9a4);}function updateUserProfile(_0x529936,_0x5f53e4,_0x1699bf){const _0x497819=a0_0xbeb130,_0x514252=document[_0x497819(0x1c9)](_0x497819(0x199)),_0x57988b=document['getElementById'](_0x497819(0x19a));!_0x57988b['value'][_0x497819(0x1ae)]()&&(_0x57988b[_0x497819(0x19b)]='They\x27re\x20still\x20thinking\x20of\x20a\x20bio...');if(_0x5f53e4[_0x497819(0x1ca)]){const _0x16f040=_0x1699bf['collection'](_0x497819(0x1ab))[_0x497819(0x1cf)](_0x5f53e4[_0x497819(0x1ca)]['uid']);document[_0x497819(0x1c9)](_0x497819(0x1bd))[_0x497819(0x18d)]=_0x497819(0x18c),_0x16f040[_0x497819(0x1aa)]({'name':_0x514252[_0x497819(0x19b)],'bio':_0x57988b[_0x497819(0x19b)],'profileIMG':_0x529936})[_0x497819(0x1af)](()=>{const _0x12001d=_0x497819;console['log'](_0x12001d(0x1ba)),setTimeout(()=>{const _0x11ee8c=_0x12001d;document[_0x11ee8c(0x1c9)](_0x11ee8c(0x1bd))[_0x11ee8c(0x18d)]=_0x11ee8c(0x1cd),window[_0x11ee8c(0x1bb)][_0x11ee8c(0x1cc)]='/account.html?action=setupProfile';},0x3e8);})[_0x497819(0x1da)](_0x37c1c5=>{const _0x35578a=_0x497819;alert(_0x35578a(0x1ad)),console['error'](_0x35578a(0x1a5),_0x37c1c5);});}else console['error'](_0x497819(0x1d5)),alert(_0x497819(0x1a7));}function uploadProfilePicture(_0x29400b,_0x355364,_0x7b8eae){const _0x2759d8=a0_0xbeb130,_0x44e03a=firebase[_0x2759d8(0x1b3)]()['ref'](),_0x18d302=_0x29400b[_0x2759d8(0x1d0)][_0x2759d8(0x1d4)]('.')[_0x2759d8(0x1b0)](),_0x4d511d=_0x355364[_0x2759d8(0x1ca)][_0x2759d8(0x1a4)]+'.'+_0x18d302,_0x3c4022=_0x44e03a[_0x2759d8(0x1b4)](_0x2759d8(0x1a2)+_0x4d511d);document['getElementById'](_0x2759d8(0x1bd))['innerText']=_0x2759d8(0x1c7),_0x3c4022['put'](_0x29400b)[_0x2759d8(0x1af)](_0x271912=>{const _0x144385=_0x2759d8;return _0x271912['ref'][_0x144385(0x1b5)]();})['then'](_0x5036f2=>{return updateUserProfile(_0x5036f2,_0x355364,_0x7b8eae);})[_0x2759d8(0x1da)](_0xf8b995=>{const _0x12e11e=_0x2759d8;alert(_0x12e11e(0x1d2)),console[_0x12e11e(0x1b7)](_0x12e11e(0x194),_0xf8b995);});}document[a0_0xbeb130(0x1dc)]('DOMContentLoaded',()=>{const _0x55f4ba=a0_0xbeb130;let _0x27a94e=firebase[_0x55f4ba(0x1cb)](),_0xe1b599=firebase[_0x55f4ba(0x1b2)]();const _0x3cc87e=document[_0x55f4ba(0x1c9)](_0x55f4ba(0x199)),_0x501f88=document[_0x55f4ba(0x1c9)](_0x55f4ba(0x196)),_0x2215d4=document[_0x55f4ba(0x1c9)](_0x55f4ba(0x1c5)),_0x21fa05=document['getElementById']('bio'),_0x3c597b=document[_0x55f4ba(0x1c9)]('submitButton'),_0x2729f4=document[_0x55f4ba(0x1c9)](_0x55f4ba(0x1d8));_0x3c597b['addEventListener'](_0x55f4ba(0x1df),_0x1d4bdc=>{const _0x1b7a9d=_0x55f4ba;_0x1d4bdc[_0x1b7a9d(0x1b1)](),useDefaultImageFlag=![],submitProfile();}),_0x2729f4['addEventListener'](_0x55f4ba(0x1df),()=>{const _0x34e0ee=_0x55f4ba;useDefaultImageFlag=!![],usedDefaultImage=!![],alert(_0x34e0ee(0x1ac)),submitProfile();}),_0x27a94e[_0x55f4ba(0x1be)](function(_0x24cb39){const _0x500f22=_0x55f4ba;if(_0x24cb39){validateForm();const _0x57f3a6=_0xe1b599[_0x500f22(0x1db)]('Users')[_0x500f22(0x1cf)](_0x24cb39[_0x500f22(0x1a4)]),_0x55c2b6=new Date();_0x57f3a6[_0x500f22(0x19f)]({'lastActive':_0x55c2b6},{'merge':!![]});const _0x18761a=_0xe1b599[_0x500f22(0x1db)](_0x500f22(0x1ab))[_0x500f22(0x1cf)](_0x27a94e[_0x500f22(0x1ca)][_0x500f22(0x1a4)]);_0x18761a[_0x500f22(0x192)]()[_0x500f22(0x1af)](_0x521ab4=>{const _0x49e6d8=_0x500f22;if(_0x521ab4[_0x49e6d8(0x1c6)]){const _0x197966=_0x521ab4[_0x49e6d8(0x191)]();_0x3cc87e[_0x49e6d8(0x19b)]=_0x197966[_0x49e6d8(0x1d0)],_0x501f88['value']=_0x197966['senderId'],_0x2215d4[_0x49e6d8(0x19b)]=_0x197966[_0x49e6d8(0x1e2)],bio['value']&&(bio[_0x49e6d8(0x19b)]=_0x197966[_0x49e6d8(0x19a)]),console[_0x49e6d8(0x1c3)](_0x197966['profileIMG']),document['querySelector'](_0x49e6d8(0x1ce))[_0x49e6d8(0x1bf)]=_0x197966[_0x49e6d8(0x1e1)]==''?_0x49e6d8(0x18a):_0x197966[_0x49e6d8(0x1e1)];}});}else alert(_0x500f22(0x197)),window[_0x500f22(0x1bb)][_0x500f22(0x1cc)]='/signin.html';});});